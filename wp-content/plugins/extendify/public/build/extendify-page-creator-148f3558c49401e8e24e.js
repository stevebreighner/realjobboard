"use strict";(globalThis.webpackChunkextendify=globalThis.webpackChunkextendify||[]).push([[222],{790:e=>{e.exports=window.ReactJSXRuntime},1455:e=>{e.exports=window.wp.apiFetch},1609:e=>{e.exports=window.React},2279:e=>{e.exports=window.wp.plugins},3656:e=>{e.exports=window.wp.editor},3832:e=>{e.exports=window.wp.url},4309:e=>{e.exports=window.wp.editPost},4997:e=>{e.exports=window.wp.blocks},5259:e=>{e.exports=window.wp.blockDirectory},5573:e=>{e.exports=window.wp.primitives},5795:e=>{e.exports=window.ReactDOM},6087:e=>{e.exports=window.wp.element},6427:e=>{e.exports=window.wp.components},7143:e=>{e.exports=window.wp.data},7723:e=>{e.exports=window.wp.i18n},8537:e=>{e.exports=window.wp.htmlEntities},9190:(e,t,a)=>{var n=a(6087),s=a(2279),r=a(7143),i=a(3656),o=a(7723),l=a(7677),c=a(6427),d=a(1077),p=a(790);const{adminUrl:x}=window.extSharedData,u=({setConfirmationOpen:e,confirmationOpen:t,setModalOpen:a})=>{const{incrementActivity:n}=(0,d.e)();return(0,p.jsx)(c.Modal,{onRequestClose:()=>e(!1),className:"extendify-page-creator",size:"medium","aria-labelledby":"page-creator-confirmation",role:"dialog",isOpen:t,title:(0,o.__)("Confirmation","extendify-local"),children:(0,p.jsxs)("div",{className:"flex flex-col space-y-6 text-sm",children:[(0,p.jsx)("div",{children:(0,o.__)("Do you want to replace existing content or create a new page?","extendify-local")}),(0,p.jsxs)("div",{className:"flex w-full items-center justify-end space-x-2",children:[(0,p.jsx)(c.Button,{size:"default",variant:"tertiary",onClick:()=>{e(!1),a(!0),n("page-creator-delete-content-button-click")},children:(0,o.__)("Delete existing content","extendify-local")}),(0,p.jsx)(c.Button,{variant:"primary",size:"default",href:`${x}post-new.php?post_type=page&ext-open-ai-creator=1`,target:"_blank",children:(0,o.__)("Create a new page","extendify-local")})]})]})})},g=(0,p.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M11.1515 20H7.04C6.32593 20 5.9689 20 5.69616 19.861C5.45626 19.7388 5.26121 19.5437 5.13897 19.3038C5 19.0311 5 18.6741 5 17.96V6.04C5 5.32593 5 4.9689 5.13897 4.69616C5.26121 4.45626 5.45626 4.26121 5.69616 4.13897C5.9689 4 6.32593 4 7.04 4H16.96C17.6741 4 18.0311 4 18.3038 4.13897C18.5437 4.26121 18.7388 4.45626 18.861 4.69616C19 4.9689 19 5.32593 19 6.04V11.0303",stroke:"white",strokeWidth:"1.275",strokeLinecap:"square"}),(0,p.jsx)("path",{d:"M13.1 8H8",stroke:"white",strokeWidth:"1.275",strokeLinecap:"square",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M10.55 10.5H8",stroke:"white",strokeWidth:"1.275",strokeLinecap:"square",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M16.8592 17.8578L15.9955 20.4901C15.8384 20.9685 15.1616 20.9685 15.0045 20.4901L14.1408 17.8578C13.9857 17.385 13.615 17.0143 13.1422 16.8592L10.5099 15.9955C10.0315 15.8384 10.0315 15.1616 10.51 15.0045L13.1422 14.1408C13.615 13.9857 13.9857 13.615 14.1408 13.1422L15.0045 10.5099C15.1616 10.0315 15.8384 10.0315 15.9955 10.5099L16.8592 13.1422C17.0143 13.615 17.385 13.9857 17.8578 14.1408L20.49 15.0045C20.9685 15.1616 20.9685 15.8384 20.49 15.9955L17.8578 16.8592C17.385 17.0143 17.0143 17.385 16.8592 17.8578Z",fill:"white"})]});var m=a(3005);const h=()=>{const{setOpen:e}=(0,m.X)(),{incrementActivity:t}=(0,d.e)(),[a,s]=(0,n.useState)(!1),c=(0,r.useSelect)((e=>e(i.store).isEditedPostEmpty()),[]);return(0,p.jsxs)(p.Fragment,{children:[a&&(0,p.jsx)(u,{setConfirmationOpen:s,setModalOpen:e,confirmationOpen:a}),(0,p.jsxs)("div",{role:"button",onClick:()=>{if(window.dispatchEvent(new CustomEvent("extendify-hc:minimize")),!c)return s(!0);e(!0),t("page-creator-button-click")},className:"components-button has-icon is-primary ml-3 h-8 min-w-0 cursor-pointer px-2 xs:h-9 sm:ml-2 xl:pr-3",children:[(0,p.jsx)(l.A,{icon:g,size:24,className:"fill-none"}),(0,p.jsx)("span",{className:"ml-1 hidden xl:inline",children:(0,o.__)("AI Page Generator","extendify-local")})]})]})};var w=a(4309),f=a(8971);const y=({onClose:e})=>(0,p.jsx)("button",{className:"block h-6 w-6 bg-transparent p-px text-inherit outline-none focus:shadow-none focus:ring-wp focus:ring-design-main",type:"button",onClick:e,"data-test":"modal-close-button","aria-label":(0,o.__)("Close","extendify-local"),children:(0,p.jsx)("svg",{style:{fill:"currentColor"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})})}),b=(0,p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{clipRule:"evenodd",d:"m13.505 4h3.3044c.936 0 1.2747.10161 1.6171.29127.3424.19042.6102.46965.7934.82489.1831.356.2801.70824.2801 1.6814v3.43584c0 .9731-.0977 1.3254-.2801 1.6814-.1832.356-.4517.6344-.7934.8248-.153.0852-.3057.1552-.5112.2054v2.7344c0 1.503-.151 2.047-.4327 2.5968-.2828.5498-.6976.9799-1.2252 1.274-.5288.294-1.052.4498-2.4975.4498h-5.10341c-1.44549 0-1.96869-.1569-2.49747-.4498-.52878-.2941-.94242-.7254-1.22526-1.274-.28284-.5487-.43376-1.0938-.43376-2.5968v-5.3051c0-1.50301.15092-2.04701.43264-2.59682.28284-.54981.6976-.98106 1.22638-1.27514.52767-.29293 1.05198-.44985 2.49747-.44985h2.18511c.041-.44652.1265-.69015.2522-.93557.1832-.356.4517-.63523.7941-.82565.3417-.18966.6812-.29127 1.6171-.29127zm-1.6984 2.18698c0-.63769.4973-1.15464 1.1106-1.15464h4.4793c.6133 0 1.1106.51695 1.1106 1.15464v4.65692c0 .6377-.4973 1.1547-1.1106 1.1547h-4.4793c-.6133 0-1.1106-.517-1.1106-1.1547z",fill:"currentColor",fillRule:"evenodd"})});var v=a(6942),j=a.n(v);const{partnerLogo:P,partnerName:C}=window.extSharedData,k=({openOnNewPage:e,updateUserOption:t,onClose:a})=>(0,p.jsxs)("div",{role:"banner",className:j()("flex max-h-28 flex-row items-center justify-between p-5 md:px-8 md:py-5",{"bg-banner-main":P}),children:[(0,p.jsx)("div",{children:P?(0,p.jsx)("div",{className:"flex justify-center bg-banner-main",children:(0,p.jsx)("div",{className:"flex h-6 max-w-40 overflow-hidden md:h-8 md:max-w-64",children:(0,p.jsx)("img",{className:"max-h-full max-w-full object-contain",src:P,alt:C})})}):(0,p.jsx)("div",{className:"-mb-5 hidden px-5 py-3 text-extendify-black sm:flex sm:pt-5",children:(0,p.jsx)(l.A,{icon:b,size:40})})}),(0,p.jsxs)("div",{className:j()("flex w-auto flex-shrink-0 items-center justify-end gap-4",{"text-banner-text":P}),children:[(0,p.jsxs)("label",{className:"flex items-center gap-2",htmlFor:"extendify-open-on-new-pages",title:(0,o.sprintf)(
// translators: %s: Extendify AI Page creator term
// translators: %s: Extendify AI Page creator term
(0,o.__)("Toggle %s on new pages","extendify-local"),"Extendify AI Page Creator"),children:[(0,p.jsx)("input",{id:"extendify-open-on-new-pages",className:"m-0 rounded-sm border border-solid border-gray-900",type:"checkbox",checked:e,onChange:e=>t("openOnNewPage",e.target.checked)}),(0,p.jsx)("span",{children:(0,o.__)("Open for new pages","extendify-local")})]}),(0,p.jsx)("div",{children:(0,p.jsx)(y,{onClose:a})})]})]});var N=a(6221),_=a(9179);const E=({show:e})=>e?(0,p.jsx)(N.N,{children:(0,p.jsx)(_.P.div,{className:"fixed bottom-[20px] right-0 z-max flex justify-end px-4 pb-4",children:(0,p.jsx)("div",{className:"shadow-2xl",children:(0,p.jsx)(c.Snackbar,{children:(0,o.__)("Just a moment, this is taking longer than expected.","extendify-local")})})})}):null;var S=a(8537);const D=({label:e,checked:t,onChange:a,slug:n="checkbox-input"})=>(0,p.jsx)("label",{htmlFor:n,className:"relative flex h-full w-full cursor-pointer items-center justify-between rounded-sm p-2 text-gray-900",children:(0,p.jsxs)("div",{className:"flex flex-auto items-center",children:[(0,p.jsxs)("span",{className:"relative mr-1 inline-block h-4 w-4 align-middle rtl:ml-1 rtl:mr-0",children:[(0,p.jsx)("input",{id:n,className:"h-4 w-4 rounded-sm focus:ring-0 focus:ring-offset-0",type:"checkbox",onChange:a,checked:t}),(0,p.jsx)("svg",{className:"absolute inset-0 -mt-px block h-4 w-4 text-transparent",viewBox:"1 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:(0,p.jsx)("path",{d:"M8.72912 13.7449L5.77536 10.7911L4.76953 11.7899L8.72912 15.7495L17.2291 7.24948L16.2304 6.25073L8.72912 13.7449Z",fill:"currentColor"})})]}),(0,p.jsx)("span",{className:"font-light",children:e})]})});var L=a(4707),O=a(4611),A=a(540),I=a(9124),T=a(1062);const B=({placeholder:e,className:t,title:a,onChange:n,value:s,description:r=null,required:i=!1,hideEditor:d=!1,setHideEditor:x=function(){},id:u})=>(0,p.jsxs)(O.D,{id:u,className:"p-3",children:[(0,p.jsxs)(A.JU,{as:"h4",className:"mb-2 mt-0 text-base font-medium data-[disabled]:opacity-50",children:[(0,o.__)(a,"extendify-local")," ",i&&(0,p.jsx)("span",{className:"text-sm font-light text-wp-alert-red",children:"*"})]}),r&&(0,p.jsx)(I.VY,{className:"data-[disabled]:opacity-50",children:(0,o.__)(r,"extendify-local")}),d?(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"line-clamp-4 opacity-80",children:s}),(0,p.jsx)("span",{className:"link mt-1 flex w-full justify-end",children:(0,p.jsx)(c.Button,{variant:"link",onClick:e=>{e.preventDefault(),x(!1)},children:(0,o.__)("Edit","extendify-local")})})]}):(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(T.T,{name:"description",placeholder:e,value:s,onChange:n,className:t}),s?(0,p.jsx)("span",{className:"absolute right-0 top-0 z-10 flex items-center pr-2 pt-2",children:(0,p.jsx)("button",{type:"button",className:"m-0 border-0 bg-transparent p-0 text-gray-500","aria-label":(0,o.__)("Clear","extendify-local"),onClick:()=>{n({currentTarget:{value:""}})},children:(0,p.jsx)(l.A,{icon:L.A,size:16})})}):null]})]}),R=({title:e,description:t})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h2",{className:"m-0 text-center text-2xl leading-8 text-gray-900 md:leading-10",children:e}),t&&(0,p.jsx)("p",{className:"m-0 text-center text-base leading-6 text-gray-700",children:t})]});var z=a(9130),M=a(7257),q=a(4039);const{siteTitle:F}=window.extSharedData;var H=a(4997),U=a(9244),G=a(1609);const X=({path:e,poster:t,className:a=null})=>{const n=(0,G.useRef)(),[s,r]=(0,G.useState)(!1);return(0,p.jsx)("div",{className:`relative ${a}`,style:{backgroundImage:s?"none":`url(${t})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,p.jsxs)("video",{ref:n,id:"video-player",className:"h-auto max-h-[min(50vh,400px)] w-full object-contain",playsInline:!0,muted:!0,autoPlay:!0,poster:t,loop:!0,onPlay:()=>r(!0),children:[(0,p.jsx)("source",{src:e,type:"video/webm"}),"Your browser does not support the video tag."]})})};var V=a(8579),Y=a(6572),$=a(202),J=a(6727);const{pageTitlePattern:W}=window.extPageCreator,Z={"ai-dashboard":{component:()=>{const{nextPage:e}=te(),{allowsInstallingPlugins:t,updateUserOption:a}=(0,M.k)(),{siteProfile:s,setSiteProfile:r}=(0,q.b)(),{setDescription:i,description:l}=(0,z.C)(),[c,d]=(0,n.useState)(null!=l?l:""),[x,u]=(0,n.useState)(!0),[g,h]=(0,n.useState)(!0),{incrementRegenerationCount:w}=(0,m.X)(),[f,y]=(0,n.useState)((0,S.decodeEntities)(s?.aiDescription)||"");return(0,n.useLayoutEffect)((()=>{f||h(!1)}),[f]),(0,n.useEffect)((()=>{u(!0);const e=setTimeout((()=>{c&&i(c),f&&f!==s?.aiDescription&&r({aiDescription:f}),u(!c.length)}),1e3);return()=>clearTimeout(e)}),[i,c,f,u,r,s]),(0,p.jsxs)("div",{className:"mx-auto my-12 flex max-w-xl flex-col",children:[(0,p.jsx)("div",{className:"mb-12 grid grid-cols-1 gap-1 text-center",children:(0,p.jsx)(R,{title:(0,o.__)("AI Page Creation","extendify-local"),description:(0,o.__)("Describe the page you want to create, adding key details, and Al will generate a unique, ready-to-use page for you.","extendify-local")})}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,p.jsx)(B,{id:"extendify-page-creator-page-description",title:(0,o.__)("Describe Your Page","extendify-local"),required:!0,className:"input-focus h-[220px] w-full max-w-full resize-none border border-gray-600 py-3 pe-6 ps-3 text-base placeholder:italic placeholder:opacity-70",placeholder:(0,o.__)('E.g., Create an "About Us" page highlighting our story, mission, values and team overview.',"extendify-local"),value:c,onChange:e=>d(e.currentTarget.value)}),(0,p.jsx)(B,{id:"extendify-page-creator-site-description",hideEditor:g,setHideEditor:h,title:F?
// translators: %s: The site title
// translators: %s: The site title
(0,o.sprintf)((0,o.__)("Site Description for %s","extendify-local"),(0,S.decodeEntities)(F)):(0,o.__)("Site Description","extendify-local"),className:"input-focus h-[220px] w-full max-w-full resize-none border border-gray-600 py-3 pe-6 ps-3 text-base placeholder:italic placeholder:opacity-70",placeholder:(0,o.__)("This is the site description with all its ups and downs.","extendify-local"),value:f,onChange:e=>y(e.currentTarget.value)}),(0,p.jsx)(D,{label:(0,o.__)("Allow plugins to be installed for advanced page features","extendify-local"),slug:"extendify-page-creator-allow-plugins",checked:t,onChange:e=>a("allowsInstallingPlugins",e.target.checked)}),(0,p.jsx)("button",{id:"extendify-page-creator-generate-btn",type:"button",disabled:x,onClick:()=>{w(),e()},className:"mt-2.5 rounded-sm bg-editor-main px-4 py-2.5 text-sm font-medium text-design-text hover:opacity-90 disabled:bg-gray-300",children:(0,o.__)("Generate Page","extendify-local")})]})]})}},"generating-page":{component:({insertPage:e})=>{const{page:t,loading:a}=(0,V.f)(),{progress:s,setProgress:l}=(0,m.X)(),{editPost:c}=(0,r.useDispatch)(i.store),[d,x]=(0,n.useState)([]),u=(0,n.useRef)(!1),g=(0,n.useRef)(!1),{theme:h,templates:w}=(0,r.useSelect)((e=>{const t=e("core"),a=t.getCurrentTheme();return{theme:a,templates:t.getEntityRecords("postType","wp_template",{per_page:-1,context:"edit",theme:a?.stylesheet})}}),[]);return(0,n.useEffect)((()=>{!t&&a||u.current||(u.current=!0,l((0,o.__)("Processing patterns and installing required plugins...","extendify-local")),(async()=>{await(0,J.D)(W);const e=await(0,Y.d)(t?.patterns);await(0,$.Y)({patterns:e}),x(e)})())}),[a,t,x,l]),(0,n.useEffect)((()=>{if(!d?.length||!u.current)return;if(!h||!Array.isArray(w))return;const a="extendable"===h.textdomain,n=a&&w.some((e=>"page-with-title"===e.slug)),s=(n?d.filter((e=>!e.patternTypes?.includes("page-title"))):d).flatMap((({code:e})=>{const t=e.replaceAll(/href="#extendify-([^"]+)"/g,'href="#"');return(0,H.rawHandler)({HTML:t})}));!g.current&&a&&(c({template:n?"page-with-title":"no-title"}).catch((()=>{})),g.current=!0),(0,U.D3)("extendify_check_for_image_imports",!0);let r=setTimeout((()=>e(s,t.title)),1e3);return()=>clearTimeout(r)}),[e,d,c,t,h,w]),(0,p.jsx)("div",{className:"mx-auto flex flex-grow items-center justify-center",children:(0,p.jsxs)("div",{className:"mx-auto flex h-full flex-col justify-center",children:[(0,p.jsx)(X,{poster:`${window.extSharedData.assetPath}/site-building.webp`,path:"https://images.extendify-cdn.com/launch/site-building.webm",className:"mx-auto h-auto w-[200px] md:w-[400px]"}),s&&(0,p.jsx)("p",{className:"text-center text-lg","aria-live":"polite",children:s})]})})}}},K=Object.entries(Z);var Q=a(1621);const ee=(0,a(7134).lt)(((e,t)=>({pages:new Map(K),currentPageIndex:0,count:()=>t().pages.size,getPageOrder:()=>Array.from(t().pages.keys()),getCurrentPageData:()=>t().pages.get(t().getCurrentPageSlug()),getPageSlug:e=>t().getPageOrder()[e],getCurrentPageSlug:()=>t().getPageOrder()[t().currentPageIndex]||(t().setPage(0),t().getPageOrder()[0]),getPageData:e=>t().pages.get(e),getNextPageData:()=>{const e=t().currentPageIndex+1;return e>t().count()-1?{}:t().getPageData(t().getPageSlug(e))},setPage:a=>{"string"==typeof a&&(a=t().getPageOrder().indexOf(a)),a>t().count()-1||a<0||e({currentPageIndex:a})},findPreviousValidPage:e=>{let t=e;do{t-=1}while(t>0);return t},nextPage:()=>{const e=t().currentPageIndex+1;t().setPage(e)},previousPage:()=>{t().setPage(t().findPreviousValidPage(t().currentPageIndex))}})),{name:"Extendify Page Creator Pages",serialize:!0}),te=(0,Q.vt)(ee);var ae=a(2177);const ne=({insertPage:e})=>{const[t,a]=(0,n.useState)(!1),{component:s}=te((e=>e.getCurrentPageData()));return(0,p.jsxs)(ae.BE,{value:{errorRetryInterval:1e3,onErrorRetry:(e,n,s,r,{retryCount:i})=>{console.error(e),403!==e?.data?.status?t||(a(!0),setTimeout((()=>{a(!1),r({retryCount:i})}),5e3)):window.location.reload()}},children:[s?(0,p.jsx)(s,{insertPage:e}):null,(0,p.jsx)(E,{show:t})]})},se=()=>{const{incrementActivity:e}=(0,d.e)(),{open:t,setOpen:a}=(0,m.X)(),{updateUserOption:s,openOnNewPage:l}=(0,M.k)(),{setPage:c}=te(),{resetBlocks:x}=(0,r.dispatch)("core/block-editor"),{closeGeneralSidebar:u}=(0,r.useDispatch)(w.store),g=(0,r.useSelect)((e=>e("core/preferences").get("core","renderingModes")||{}),[]),h="template-locked"===g?.extendable?.page,{set:y}=(0,r.useDispatch)("core/preferences"),b=e=>y("core","renderingModes",{...g,extendable:{...g.extendable||{},page:e}}),{createNotice:v}=(0,r.dispatch)("core/notices"),j=(0,n.useRef)(!1),P=()=>{e("page-creator-modal-close"),a(!1),c(0)},C=(0,r.useSelect)((e=>{const t=e(i.store);return{isPage:"page"===t.getCurrentPostType(),isNew:t.isCleanNewPost(),isEmptyPost:t.isEditedPostEmpty()}}),[]);return(0,n.useLayoutEffect)((()=>{t||j.current||(j.current=!0,l&&C.isNew&&(window.dispatchEvent(new CustomEvent("extendify-hc:minimize")),window.dispatchEvent(new CustomEvent("extendify::close-library")),e("page-creator-auto-open"),a(!0)),new URLSearchParams(window.location.search).has("ext-open-ai-creator")&&(a(!0),e("page-creator-search-param-auto-open")))}),[l,a,e,t,C.isNew]),(0,n.useEffect)((()=>{const t=new URLSearchParams(window.location.search),{pathname:n}=window.location;t.has("ext-page-creator-close")&&(a(!1),t.delete("ext-page-creator-close"),window.history.replaceState({},"",n+"?"+t.toString()),e("page-creator-search-param-auto-close")),t.has("ext-open")&&(window.dispatchEvent(new CustomEvent("extendify::open-library")),t.delete("ext-open"),window.history.replaceState({},"",n+"?"+t.toString()))}),[a,e]),(0,n.useEffect)((()=>{const e=()=>a(!0),t=()=>a(!1);return window.addEventListener("extendify::open-page-creator",e),window.addEventListener("extendify::close-page-creator",t),()=>{window.removeEventListener("extendify::open-page-creator",e),window.removeEventListener("extendify::close-page-creator",t)}}),[a]),(0,n.useEffect)((()=>{t&&(0,r.select)("core/edit-post").isFeatureActive("welcomeGuide")&&(0,r.dispatch)("core/edit-post").toggleFeature("welcomeGuide")}),[t]),t?(0,p.jsx)(f.lG,{className:"extendify-page-creator extendify-page-creator-modal",open:t,static:!0,"aria-labelledby":"page-creator-modal",role:"dialog",onClose:()=>{},children:(0,p.jsxs)("div",{className:"mx-auto flex h-full w-full items-center justify-center pt-10 md:p-10",children:[(0,p.jsx)("div",{onClick:P,role:"button",tabIndex:0,"aria-label":(0,o.__)("Close AI Page Creator","extendify-local"),className:"fixed inset-0 bg-black/30",style:{backdropFilter:"blur(2px)"},"aria-hidden":"true"}),(0,p.jsxs)(_.P.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},exit:{y:0,opacity:0},transition:{duration:.3},className:"relative mx-auto h-full max-h-full w-full max-w-4xl rounded-lg bg-white shadow-2xl sm:flex sm:overflow-hidden md:h-auto",children:[(0,p.jsx)(f.L3,{className:"sr-only",children:(0,o.__)("AI Page Creator","extendify-local")}),(0,p.jsxs)("div",{className:"relative flex w-full flex-col bg-white",children:[(0,p.jsx)(k,{openOnNewPage:l,updateUserOption:s,onClose:P}),(0,p.jsx)("div",{id:"extendify-page-creator-pages",className:"mx-8 flex-grow overflow-y-auto",children:(0,p.jsx)(ne,{insertPage:async(t,a)=>{u();try{h&&(b("post-only"),await new Promise((e=>requestAnimationFrame(e)))),!(()=>{const{getBlocks:e}=(0,r.select)("core/block-editor"),t=e();return 1===t.length&&"core/paragraph"===t[0].name&&""===t[0].attributes?.content?.text})()&&C.isEmptyPost||x([]),await(async e=>{const{insertBlocks:t,replaceBlock:a}=(0,r.dispatch)("core/block-editor"),{getSelectedBlock:n,getBlockHierarchyRootClientId:s,getBlockIndex:i,getGlobalBlockCount:o}=(0,r.select)("core/block-editor"),{clientId:l,name:c,attributes:d}=n()||{},p=l?s(l):"",x=(p?i(p):o())+1;return"core/paragraph"===c&&""===d?.content?await a(l,e):await t(e,x)})(t),(0,r.dispatch)("core/editor").editPost({title:a}),e("page-creator-page-insert"),P(),v("info",(0,o.__)("Page added","extendify-local"),{isDismissible:!0,type:"snackbar"})}catch(e){console.error("Failed to insert page:",e),v("error",(0,o.__)("Failed to add page","extendify-local"),{isDismissible:!0,type:"snackbar"})}finally{h&&b("template-locked")}}})})]})]},"ai-page-generator-modal")]})}):null};var re=a(7828),ie=a(9666);(0,s.registerPlugin)("extendify-page-creator-buttons",{render:()=>(0,p.jsx)(oe,{})});const oe=()=>((0,n.useEffect)((()=>{if(!ie.j||"page"!==window.wp.data.select("core/editor").getCurrentPostType())return;const e="extendify-page-creator-btn",t="extendify-page-creator";document.getElementById(e)||requestAnimationFrame((()=>{requestAnimationFrame((()=>{if(document.getElementById(e))return;const a=document.createElement("div"),n=Object.assign(a,{id:e,className:t});document.querySelector(".edit-post-header-toolbar")?.append(n),document.querySelector(".edit-site-header-edit-mode__start")?.append(n),(0,re.X)((0,p.jsx)(h,{}),n);const s="extendify-page-creator-modal";if(document.getElementById(s))return;const r=document.createElement("div"),i=Object.assign(r,{id:s,className:t});document.body.append(i),(0,re.X)((0,p.jsx)(se,{}),i)}))}))}),[]),null)}},e=>{e.O(0,[65,223],(()=>e(e.s=9190))),e.O()}]);