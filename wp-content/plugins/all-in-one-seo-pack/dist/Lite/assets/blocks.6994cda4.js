import"./js/translations.d159963e.js";import{g as en}from"./js/helpers.1c7f32fa.js";import{a as tn,av as on,F as we,u as G,e as Oe,l as it,b as rt,E as nn,a1 as lt,o as sn,U as an,a5 as rn,aw as ln}from"./js/index.bd66e758.js";import{_ as r,s as W}from"./js/default-i18n.20001971.js";import{x as O,o as y,c as V,H as w,m as S,y as A,t as g,a as f,J as be,l as F,b as B,G as bt,N as Po,K as Fe,Y as ae,h as ce,F as cn,v as Eo,g as He,f as We,k as dn,n as ut,B as un,Q as pn,S as mn,u as ge,A as fn}from"./js/runtime-dom.esm-bundler.5d5e6b71.js";import{l as ke}from"./js/index.7c01c5f2.js";import{l as hn,B as ct,a as dt,c as $t,_ as gn}from"./js/index.eb92a2a8.js";import{l as bn}from"./js/index.d80c2c2c.js";import{W as J,X as ft,Y as $n}from"./js/helpers.bf0d86e6.js";import{m as se,c as Mo,d as Ue,a as nt,h as R,g as wn,i as yn}from"./js/icon.cee978f3.js";import{u as vn}from"./js/JsonValues.3fcfec97.js";import{S as _n}from"./js/AddPlus.21e6920d.js";import{b as Ho,_ as Ge,C as kt}from"./js/Caret.382b7591.js";import{S as kn}from"./js/External.4ed94f4a.js";import{_ as K}from"./js/_plugin-vue_export-helper.eefbdd86.js";import{u as Sn}from"./js/PostTypes.dafa8837.js";import{B as Cn}from"./js/HighlightToggle.ca230cdf.js";import{C as wt}from"./js/Tooltip.418c677c.js";import{G as In,a as Ln}from"./js/Row.aff98451.js";import{C as Tn}from"./js/ImageUploader.ec60bcd6.js";import{S as No}from"./js/Info.6a61aa9f.js";import{u as Te,o as On,a as yt,f as Le}from"./js/TableOfContentsStore.40e9f62a.js";import{D as Vn,S as Bn}from"./js/vuedraggable.umd.9454f4af.js";import{a as An}from"./js/AiContent.a028a71a.js";import{S as xn}from"./js/Link.96b3abc2.js";import{C as Pn}from"./js/Index.4c5534e7.js";import{C as En}from"./js/Index.1a358ca4.js";import{G as Do}from"./js/constants.fe8bda37.js";import{a as Mn}from"./js/allowed.6a0a8b85.js";import{C as Hn}from"./js/CreditCounter.a07660ad.js";import{d as St}from"./js/debounce.516e8bfd.js";import"./js/Checkbox.28e8400d.js";import"./js/Checkmark.43d7168a.js";import"./js/Radio.ce251936.js";import"./js/Img.9d452116.js";import"./js/Plus.5a0c4130.js";import"./js/datetime.f197aeae.js";import"./js/toNumber.5442b1b2.js";function Nn(e,t,a,s){const o=Number(e[t].meta.id+1).toString();let c="";return typeof s.docId=="string"&&(c=`-${s.docId}-`),c+o}function Dn(e,t){let a=Number(e[t].meta.id+1).toString();return e[t].meta.subId>0&&(a+=`:${e[t].meta.subId}`),`[${a}]`}function Rn(e,t,a,s,o){const c=o.rules.footnote_anchor_name(e,t,a,s,o),u=o.rules.footnote_caption(e,t,a,s,o);let n=c;return e[t].meta.subId>0&&(n+=`:${e[t].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${c}" id="fnref${n}">${u}</a></sup>`}function qn(e,t,a){return(a.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function Un(){return`</ol>
</section>
`}function zn(e,t,a,s,o){let c=o.rules.footnote_anchor_name(e,t,a,s,o);return e[t].meta.subId>0&&(c+=`:${e[t].meta.subId}`),`<li id="fn${c}" class="footnote-item">`}function Fn(){return`</li>
`}function jn(e,t,a,s,o){let c=o.rules.footnote_anchor_name(e,t,a,s,o);return e[t].meta.subId>0&&(c+=`:${e[t].meta.subId}`),` <a href="#fnref${c}" class="footnote-backref">↩︎</a>`}function Zn(e){const t=e.helpers.parseLinkLabel,a=e.utils.isSpace;e.renderer.rules.footnote_ref=Rn,e.renderer.rules.footnote_block_open=qn,e.renderer.rules.footnote_block_close=Un,e.renderer.rules.footnote_open=zn,e.renderer.rules.footnote_close=Fn,e.renderer.rules.footnote_anchor=jn,e.renderer.rules.footnote_caption=Dn,e.renderer.rules.footnote_anchor_name=Nn;function s(n,l,i,p){const d=n.bMarks[l]+n.tShift[l],m=n.eMarks[l];if(d+4>m||n.src.charCodeAt(d)!==91||n.src.charCodeAt(d+1)!==94)return!1;let h;for(h=d+2;h<m;h++){if(n.src.charCodeAt(h)===32)return!1;if(n.src.charCodeAt(h)===93)break}if(h===d+2||h+1>=m||n.src.charCodeAt(++h)!==58)return!1;if(p)return!0;h++,n.env.footnotes||(n.env.footnotes={}),n.env.footnotes.refs||(n.env.footnotes.refs={});const b=n.src.slice(d+2,h-2);n.env.footnotes.refs[`:${b}`]=-1;const I=new n.Token("footnote_reference_open","",1);I.meta={label:b},I.level=n.level++,n.tokens.push(I);const k=n.bMarks[l],C=n.tShift[l],$=n.sCount[l],P=n.parentType,E=h,T=n.sCount[l]+h-(n.bMarks[l]+n.tShift[l]);let x=T;for(;h<m;){const L=n.src.charCodeAt(h);if(a(L))L===9?x+=4-x%4:x++;else break;h++}n.tShift[l]=h-E,n.sCount[l]=x-T,n.bMarks[l]=E,n.blkIndent+=4,n.parentType="footnote",n.sCount[l]<n.blkIndent&&(n.sCount[l]+=n.blkIndent),n.md.block.tokenize(n,l,i,!0),n.parentType=P,n.blkIndent-=4,n.tShift[l]=C,n.sCount[l]=$,n.bMarks[l]=k;const _=new n.Token("footnote_reference_close","",-1);return _.level=--n.level,n.tokens.push(_),!0}function o(n,l){const i=n.posMax,p=n.pos;if(p+2>=i||n.src.charCodeAt(p)!==94||n.src.charCodeAt(p+1)!==91)return!1;const d=p+2,m=t(n,p+1);if(m<0)return!1;if(!l){n.env.footnotes||(n.env.footnotes={}),n.env.footnotes.list||(n.env.footnotes.list=[]);const h=n.env.footnotes.list.length,b=[];n.md.inline.parse(n.src.slice(d,m),n.md,n.env,b);const I=n.push("footnote_ref","",0);I.meta={id:h},n.env.footnotes.list[h]={content:n.src.slice(d,m),tokens:b}}return n.pos=m+1,n.posMax=i,!0}function c(n,l){const i=n.posMax,p=n.pos;if(p+3>i||!n.env.footnotes||!n.env.footnotes.refs||n.src.charCodeAt(p)!==91||n.src.charCodeAt(p+1)!==94)return!1;let d;for(d=p+2;d<i;d++){if(n.src.charCodeAt(d)===32||n.src.charCodeAt(d)===10)return!1;if(n.src.charCodeAt(d)===93)break}if(d===p+2||d>=i)return!1;d++;const m=n.src.slice(p+2,d-1);if(typeof n.env.footnotes.refs[`:${m}`]>"u")return!1;if(!l){n.env.footnotes.list||(n.env.footnotes.list=[]);let h;n.env.footnotes.refs[`:${m}`]<0?(h=n.env.footnotes.list.length,n.env.footnotes.list[h]={label:m,count:0},n.env.footnotes.refs[`:${m}`]=h):h=n.env.footnotes.refs[`:${m}`];const b=n.env.footnotes.list[h].count;n.env.footnotes.list[h].count++;const I=n.push("footnote_ref","",0);I.meta={id:h,subId:b,label:m}}return n.pos=d,n.posMax=i,!0}function u(n){let l,i,p,d=!1;const m={};if(!n.env.footnotes||(n.tokens=n.tokens.filter(function(b){return b.type==="footnote_reference_open"?(d=!0,i=[],p=b.meta.label,!1):b.type==="footnote_reference_close"?(d=!1,m[":"+p]=i,!1):(d&&i.push(b),!d)}),!n.env.footnotes.list))return;const h=n.env.footnotes.list;n.tokens.push(new n.Token("footnote_block_open","",1));for(let b=0,I=h.length;b<I;b++){const k=new n.Token("footnote_open","",1);if(k.meta={id:b,label:h[b].label},n.tokens.push(k),h[b].tokens){l=[];const P=new n.Token("paragraph_open","p",1);P.block=!0,l.push(P);const E=new n.Token("inline","",0);E.children=h[b].tokens,E.content=h[b].content,l.push(E);const T=new n.Token("paragraph_close","p",-1);T.block=!0,l.push(T)}else h[b].label&&(l=m[`:${h[b].label}`]);l&&(n.tokens=n.tokens.concat(l));let C;n.tokens[n.tokens.length-1].type==="paragraph_close"?C=n.tokens.pop():C=null;const $=h[b].count>0?h[b].count:1;for(let P=0;P<$;P++){const E=new n.Token("footnote_anchor","",0);E.meta={id:b,subId:P,label:h[b].label},n.tokens.push(E)}C&&n.tokens.push(C),n.tokens.push(new n.Token("footnote_close","",-1))}n.tokens.push(new n.Token("footnote_block_close","",-1))}e.block.ruler.before("reference","footnote_def",s,{alt:["paragraph","reference"]}),e.inline.ruler.after("image","footnote_inline",o),e.inline.ruler.after("footnote_inline","footnote_ref",c),e.core.ruler.after("inline","footnote_tail",u)}function Wn(e){function t(s,o){const c=s.pos,u=s.src.charCodeAt(c);if(o||u!==61)return!1;const n=s.scanDelims(s.pos,!0);let l=n.length;const i=String.fromCharCode(u);if(l<2)return!1;if(l%2){const p=s.push("text","",0);p.content=i,l--}for(let p=0;p<l;p+=2){const d=s.push("text","",0);d.content=i+i,!(!n.can_open&&!n.can_close)&&s.delimiters.push({marker:u,length:0,jump:p/2,token:s.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return s.pos+=n.length,!0}function a(s,o){const c=[],u=o.length;for(let n=0;n<u;n++){const l=o[n];if(l.marker!==61||l.end===-1)continue;const i=o[l.end],p=s.tokens[l.token];p.type="mark_open",p.tag="mark",p.nesting=1,p.markup="==",p.content="";const d=s.tokens[i.token];d.type="mark_close",d.tag="mark",d.nesting=-1,d.markup="==",d.content="",s.tokens[i.token-1].type==="text"&&s.tokens[i.token-1].content==="="&&c.push(i.token-1)}for(;c.length;){const n=c.pop();let l=n+1;for(;l<s.tokens.length&&s.tokens[l].type==="mark_close";)l++;if(l--,n!==l){const i=s.tokens[l];s.tokens[l]=s.tokens[n],s.tokens[n]=i}}}e.inline.ruler.before("emphasis","mark",t),e.inline.ruler2.before("emphasis","mark",function(s){let o;const c=s.tokens_meta,u=(s.tokens_meta||[]).length;for(a(s,s.delimiters),o=0;o<u;o++)c[o]&&c[o].delimiters&&a(s,c[o].delimiters)})}const Gn=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function Jn(e,t){const a=e.posMax,s=e.pos;if(e.src.charCodeAt(s)!==126||t||s+2>=a)return!1;e.pos=s+1;let o=!1;for(;e.pos<a;){if(e.src.charCodeAt(e.pos)===126){o=!0;break}e.md.inline.skipToken(e)}if(!o||s+1===e.pos)return e.pos=s,!1;const c=e.src.slice(s+1,e.pos);if(c.match(/(^|[^\\])(\\\\)*\s/))return e.pos=s,!1;e.posMax=e.pos,e.pos=s+1;const u=e.push("sub_open","sub",1);u.markup="~";const n=e.push("text","",0);n.content=c.replace(Gn,"$1");const l=e.push("sub_close","sub",-1);return l.markup="~",e.pos=e.posMax+1,e.posMax=a,!0}function Qn(e){e.inline.ruler.after("emphasis","sub",Jn)}const Yn=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function Kn(e,t){const a=e.posMax,s=e.pos;if(e.src.charCodeAt(s)!==94||t||s+2>=a)return!1;e.pos=s+1;let o=!1;for(;e.pos<a;){if(e.src.charCodeAt(e.pos)===94){o=!0;break}e.md.inline.skipToken(e)}if(!o||s+1===e.pos)return e.pos=s,!1;const c=e.src.slice(s+1,e.pos);if(c.match(/(^|[^\\])(\\\\)*\s/))return e.pos=s,!1;e.posMax=e.pos,e.pos=s+1;const u=e.push("sup_open","sup",1);u.markup="^";const n=e.push("text","",0);n.content=c.replace(Yn,"$1");const l=e.push("sup_close","sup",-1);return l.markup="^",e.pos=e.posMax+1,e.posMax=a,!0}function Xn(e){e.inline.ruler.after("emphasis","sup",Kn)}const Ro=tn("AiAssistantStore",{state:()=>({markdownConverter:new on({breaks:!0}).disable("image").use(Zn).use(Wn).use(Qn).use(Xn),capability:"aioseo_page_ai_content_settings",options:{input:{userPrompt:{maxlength:1e3}}},generationPrice:50}),getters:{hasPermission:e=>Mn(e.capability)}}),M=we(),ie=window.wp,{useEffect:Ct,useRef:It}=ie.element,ee=ie.element.createElement,{useSelect:es}=ie.data,ts=ie.element.Fragment;var no;const os=((no=ie.blockEditor)==null?void 0:no.InspectorControls)||ie.editor.InspectorControls,ns=ie.components.PanelBody,ss=ie.components.Disabled,as=ie.serverSideRender||ie.components.ServerSideRender,Ne="all-in-one-seo-pack",is=ee("svg",{width:24,height:25,viewBox:"0 0 24 25",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M1.7002 5.31067H10.8705L17.8705 12.5L10.8705 19.6893H1.7002V5.31067ZM10.2856 12.4999C10.2856 13.3284 9.61396 14.0001 8.7854 14.0001C7.95684 14.0001 7.28516 13.3284 7.28516 12.4999C7.28516 11.6713 7.95684 10.9996 8.7854 10.9996C9.61396 10.9996 10.2856 11.6713 10.2856 12.4999ZM6.1933 12.5001C6.1933 13.195 5.62995 13.7584 4.93503 13.7584C4.2401 13.7584 3.67676 13.195 3.67676 12.5001C3.67676 11.8052 4.2401 11.2418 4.93503 11.2418C5.62995 11.2418 6.1933 11.8052 6.1933 12.5001ZM12.6342 13.7584C13.3292 13.7584 13.8925 13.195 13.8925 12.5001C13.8925 11.8052 13.3292 11.2418 12.6342 11.2418C11.9393 11.2418 11.376 11.8052 11.376 12.5001C11.376 13.195 11.9393 13.7584 12.6342 13.7584ZM15.3002 5.31067H12.5771L19.5771 12.5L12.5771 19.6893H15.3002L22.3002 12.5L15.3002 5.31067Z"}));var so,ao;const rs=((ao=(so=window==null?void 0:window.aioseo)==null?void 0:so.currentPost)==null?void 0:ao.postType)??"";let qo="";var io,ro;const pt=(ro=(io=window==null?void 0:window.aioseo)==null?void 0:io.postData)==null?void 0:ro.postTypes.find(e=>e.name===rs);pt&&0<pt.taxonomies.length&&(qo=pt.taxonomies[0]);const Uo="aioseo/breadcrumbs";var lo,co,uo,po,mo,fo,ho,go,bo,$o,wo,yo,vo,_o,ko,So,Co,Io;const ls={title:r("AIOSEO - Breadcrumbs",Ne),description:r("Automatically output a breadcrumb trail to help your users and search engines navigate your site.",Ne),category:"aioseo",icon:is,example:{},attributes:{primaryTerm:{type:"string",default:null},postTitle:{type:"string",default:null},breadcrumbSettings:{type:"object",default:{default:((co=(lo=M==null?void 0:M.currentPost)==null?void 0:lo.breadcrumb_settings)==null?void 0:co.default)??!0,separator:((po=(uo=M==null?void 0:M.currentPost)==null?void 0:uo.breadcrumb_settings)==null?void 0:po.separator)??"›",showHomeCrumb:((fo=(mo=M==null?void 0:M.currentPost)==null?void 0:mo.breadcrumb_settings)==null?void 0:fo.showHomeCrumb)??!0,showTaxonomyCrumbs:((go=(ho=M==null?void 0:M.currentPost)==null?void 0:ho.breadcrumb_settings)==null?void 0:go.showTaxonomyCrumbs)??!0,showParentCrumbs:(($o=(bo=M==null?void 0:M.currentPost)==null?void 0:bo.breadcrumb_settings)==null?void 0:$o.showParentCrumbs)??!0,template:((yo=(wo=M==null?void 0:M.currentPost)==null?void 0:wo.breadcrumb_settings)==null?void 0:yo.template)??"default",parentTemplate:((_o=(vo=M==null?void 0:M.currentPost)==null?void 0:vo.breadcrumb_settings)==null?void 0:_o.parentTemplate)??"default",taxonomy:((So=(ko=M==null?void 0:M.currentPost)==null?void 0:ko.breadcrumb_settings)==null?void 0:So.taxonomy)||qo,primaryTerm:((Io=(Co=M==null?void 0:M.currentPost)==null?void 0:Co.breadcrumb_settings)==null?void 0:Io.primaryTerm)??null}}},edit:function(e){var I,k,C;const{setAttributes:t,attributes:a,clientId:s}=e,o=G(),c=`aioseo-${s}-settings`,u=It(null),n=It(!1),l=es($=>$("core/editor").getEditedPostAttribute("title"));Ct(()=>{setTimeout(()=>{l!==a.postTitle&&t({postTitle:l})},1e3)},[l]),window.aioseoBus.$on("standalone-update-post",$=>{!($!=null&&$.primary_term)&&!($!=null&&$.breadcrumb_settings)||($!=null&&$.primary_term&&t({primaryTerm:JSON.stringify($.primary_term)}),$!=null&&$.breadcrumb_settings&&t({breadcrumbSettings:$.breadcrumb_settings}))});let i=(I=a.breadcrumbSettings)==null?void 0:I.primaryTerm;if((k=a.breadcrumbSettings)!=null&&k.taxonomy){const $=en((C=a.breadcrumbSettings)==null?void 0:C.taxonomy,!0);$[0]&&$[0]!==i&&(i=$[0])}const p=()=>{window.aioseoBus.$emit("do-post-settings-main-tab-change",{name:"advanced",context:"metabox"}),ie.data.dispatch("core/edit-post").openGeneralSidebar("aioseo-post-settings-sidebar/aioseo-post-settings-sidebar"),setTimeout(()=>{window.aioseoBus.$emit("do-post-settings-main-tab-change",{name:"advanced",context:"sidebar"})},100)},d=ee(os,null,ee(ns,{title:r("Breadcrumb Settings",Ne),initialOpen:!0},ee("div",{},ee("div",{id:c},ee("p",{className:"aioseo-breadcrumbs-sidebar-text"},[ee("span",{key:"breadcrumb-text"},r("You can customize your breadcrumb trail under ",Ne)),ee("a",{key:"breadcrumb-link",href:"#",onClick:()=>p()},r("Advanced > Breadcrumbs.",Ne))]))))),m=o.aioseo.user,h=()=>{var P;const $=(P=M==null?void 0:M.currentPost)==null?void 0:P.breadcrumb_settings;if($){const E=JSON.stringify(a.breadcrumbSettings),T=JSON.stringify($);E!==T&&t({breadcrumbSettings:$})}},b=()=>{var P;if(n.current)return;n.current=!0,((P=u.current)==null?void 0:P.querySelector(".aioseo-breadcrumbs"))&&h()};return Ct(()=>{if(!u.current)return;const $=new MutationObserver(P=>{var E;for(const T of P)if(T.type==="childList"&&0<T.addedNodes.length){const x=(E=u.current)==null?void 0:E.querySelector(".aioseo-breadcrumbs");if(x&&x.innerHTML.trim()&&!x.innerHTML.includes("Loading...")&&!x.querySelector(".components-spinner")){b(),$.disconnect();break}}});return $.observe(u.current,{childList:!0,subtree:!0}),()=>$.disconnect()},[]),ee(ts,{},m.capabilities.aioseo_page_advanced_settings?d:null,ee("div",{ref:u},ee(window.aioseo.options.breadcrumbs.enable?ss:"div",null,ee(as,{block:Uo,attributes:{primaryTerm:a.primaryTerm,postTitle:a.postTitle,breadcrumbSettings:{...a.breadcrumbSettings,primaryTerm:i}}}))))},save:function(){return null}},cs=Object.freeze(Object.defineProperty({__proto__:null,name:Uo,settings:ls},Symbol.toStringTag,{value:"Module"})),Se="all-in-one-seo-pack",ds={setup(){const{getJsonValues:e,setJsonValues:t}=vn();return{getJsonValues:e,optionsStore:Oe(),setJsonValues:t}},components:{SvgAddPlus:_n,SvgClose:Ho,SvgExternal:kn},props:{type:{type:String,required:!0}},data(){return{excludeOptions:[],strings:{typeToSearch:r("Type to search...",Se),noOptionsPosts:r("Begin typing a post ID, title or slug to search...",Se),noOptionsTerms:r("Begin typing a term ID or name to search...",Se),noResult:r("No results found for your search. Try again!",Se),clear:r("Clear",Se),id:r("ID",Se),type:r("Type",Se)}}},computed:{optionName:{get(){return this.type==="posts"?JSON.parse(this.$root.$data.excluded_posts):JSON.parse(this.$root.$data.excluded_terms)},set(e){if(e=JSON.stringify(e),this.type==="posts"){this.$root.$data.excluded_posts=e;return}this.$root.$data.excluded_terms=e}},noOptions(){return this.type==="posts"?this.strings.noOptionsPosts:this.strings.noOptionsTerms}},methods:{processGetObjects(e){return this.optionsStore.getObjects({query:e,type:this.type}).then(t=>{this.excludeOptions=t.body.objects})},getOptionTitle(e,t){e=e.replace(/<\/?[^>]+(>|$)/g,""),t=t.replace(/<\/?[^>]+(>|$)/g,"");const a=new RegExp(`(${t})`,"gi");return e.replace(a,'<span class="search-term">$1</span>')}}},us={class:"aioseo-exclude-posts"},ps={class:"option"},ms=["innerHTML"],fs={class:"option-details"},hs=["href"],gs={class:"multiselect__tag"},bs={class:"multiselect__tag-value"},$s=["onClick"];function ws(e,t,a,s,o,c){const u=O("svg-add-plus"),n=O("base-button"),l=O("svg-external"),i=O("svg-close"),p=O("base-select");return y(),V("div",us,[w(p,{options:o.excludeOptions,"ajax-search":c.processGetObjects,size:"medium",multiple:"",modelValue:s.getJsonValues(c.optionName),"onUpdate:modelValue":t[0]||(t[0]=d=>c.optionName=s.setJsonValues(d)),placeholder:o.strings.typeToSearch},{noOptions:S(()=>[A(g(c.noOptions),1)]),noResult:S(()=>[A(g(o.strings.noResult),1)]),caret:S(({toggle:d})=>[w(n,{class:"multiselect-toggle",style:{padding:"10px 13px",width:"40px",position:"absolute",height:"36px",right:"2px",top:"2px","text-align":"center",transition:"transform .2s ease"},type:"gray",onClick:d},{default:S(()=>[w(u,{style:{width:"14px",height:"14px",color:"black"}})]),_:2},1032,["onClick"])]),option:S(({option:d,search:m})=>[f("div",ps,[f("div",{class:"option-title",innerHTML:c.getOptionTitle(d.label,m)},null,8,ms),f("div",fs,[f("span",null,g(o.strings.id)+": #"+g(d.value),1),f("span",null,g(o.strings.type)+": "+g(d.type),1)])]),f("a",{class:"option-permalink",href:d.link,target:"_blank",onClick:be(()=>{},["stop"])},[w(l)],8,hs)]),tag:S(({option:d,remove:m})=>[f("div",gs,[f("div",bs,g(d.label)+" - #"+g(d.value),1),f("div",{class:"multiselect__tag-remove",onClick:be(h=>m(d),["stop"])},[w(i,{onClick:be(h=>m(d),["stop"])},null,8,["onClick"])],8,$s)])]),_:1},8,["options","ajax-search","modelValue","placeholder"]),w(n,{type:"gray",size:"small",onClick:t[1]||(t[1]=d=>c.optionName=[])},{default:S(()=>[A(g(o.strings.clear),1)]),_:1})])}const ys=K(ds,[["render",ws]]),Je="all-in-one-seo-pack",vs={setup(){const{getPostIconClass:e}=Sn();return{getPostIconClass:e,rootStore:G()}},components:{BaseHighlightToggle:Cn,CoreTooltip:wt,GridColumn:In,GridRow:Ln},props:{type:{type:String,required:!0},excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:r("Label:",Je),name:r("Slug:",Je),includeAllPostTypes:r("Include All Post Types",Je),includeAllTaxonomies:r("Include All Taxonomies",Je)}}},computed:{includeAllSetting(){const e=this.type+"_all";return this.$root.$data[e]},objects(){const e=this.type==="taxonomies"?"taxonomies":"postTypes";return this.rootStore.aioseo.postData[e].filter(t=>!this.excluded.includes(t.name))}},methods:{getState(){return JSON.parse(this.$root.$data[this.type])},setState(e){this.$root.$data[this.type]=JSON.stringify(e)},getValue(e){return this.getState().includes(e.name)},updateValue(e,t){const a=this.getState();if(e){a.push(t.name),this.setState(a);return}const s=a.findIndex(o=>o===t.name);s!==-1&&(a.splice(s,1),this.setState(a))},isActive(e){return this.getState().findIndex(a=>a===e.name)!==-1}}},_s={class:"aioseo-included-objects-toggle"},ks={class:"included-objects-settings"},Ss={class:"aioseo-description"},Cs=f("br",null,null,-1);function Is(e,t,a,s,o,c){const u=O("base-toggle"),n=O("core-tooltip"),l=O("base-highlight-toggle"),i=O("grid-column"),p=O("grid-row");return y(),V("div",_s,[f("div",ks,[a.type==="post_types"?(y(),F(u,{key:0,size:"medium",modelValue:e.$root.$data.post_types_all,"onUpdate:modelValue":t[0]||(t[0]=d=>e.$root.$data.post_types_all=d)},{default:S(()=>[A(g(o.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"])):B("",!0),a.type==="taxonomies"?(y(),F(u,{key:1,size:"medium",modelValue:e.$root.$data.taxonomies_all,"onUpdate:modelValue":t[1]||(t[1]=d=>e.$root.$data.taxonomies_all=d)},{default:S(()=>[A(g(o.strings.includeAllTaxonomies),1)]),_:1},8,["modelValue"])):B("",!0),0<c.objects.length&&!c.includeAllSetting?(y(),F(p,{key:2,class:"aioseo-included-list"},{default:S(()=>[(y(!0),V(bt,null,Po(c.objects,(d,m)=>(y(),F(i,{md:"6",key:m},{default:S(()=>[w(l,{size:"medium",active:c.isActive(d),name:d.name,type:"checkbox",modelValue:c.getValue(d),"onUpdate:modelValue":h=>c.updateValue(h,d)},{default:S(()=>[w(n,null,{tooltip:S(()=>[f("div",Ss,[A(g(o.strings.label)+" ",1),f("strong",null,g(d.label),1),Cs,A(" "+g(o.strings.name)+" ",1),f("strong",null,g(d.name),1)])]),default:S(()=>[f("span",{class:Fe(["icon dashicons",s.getPostIconClass(d.icon)])},null,2)]),_:2},1024),A(" "+g(d.label),1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):B("",!0)])])}const Ls=K(vs,[["render",Is]]),j="all-in-one-seo-pack",Ts={components:{HtmlSitemapExcludeObjects:ys,HtmlSitemapIncludedObjects:Ls},data(){return{sortDirections:[{label:r("Ascending",j),value:"asc"},{label:r("Descending",j),value:"desc"}],sortOrders:[{label:r("Publish Date",j),value:"publish_date"},{label:r("Last Updated",j),value:"last_updated"},{label:r("Alphabetical",j),value:"alphabetical"},{label:r("Post/Term ID",j),value:"id"}],strings:{useDefault:r("Use Default Settings",j),postTypes:r("Post Types",j),taxonomies:r("Taxonomies",j),includeAllPostTypes:r("Include All Post Types",j),includeAllTaxonomies:r("Include All Taxonomies",j),showLabel:r("Show Labels",j),publicationDate:r("Show Publication Date",j),archives:r("Compact Archives",j),sortOrder:r("Sort Order",j),sortDirection:r("Sort Direction",j),excludePostsPages:r("Exclude Posts / Pages",j),excludeTerms:r("Exclude Terms",j)}}},methods:{getSortOrder(e){return this.sortOrders.find(t=>t.value===e)},getSortDirection(e){return this.sortDirections.find(t=>t.value===e)}}},Os={class:"aioseo-sidebar-row"},Vs={class:"aioseo-sidebar-row"},Bs={key:0,class:"aioseo-sidebar-row"},As={key:1,class:"aioseo-sidebar-row"},xs={key:2,class:"aioseo-sidebar-row"},Ps={class:"aioseo-sidebar-title"},Es={key:3,class:"aioseo-sidebar-row"},Ms={class:"aioseo-sidebar-title"},Hs={key:4,class:"aioseo-sidebar-row"},Ns={class:"aioseo-sidebar-title"},Ds={class:"aioseo-sidebar-row"},Rs={class:"aioseo-sidebar-title"},qs={key:5,class:"aioseo-sidebar-row"},Us={class:"aioseo-sidebar-title"},zs={key:6,class:"aioseo-sidebar-row"},Fs={class:"aioseo-sidebar-title"};function js(e,t,a,s,o,c){const u=O("base-toggle"),n=O("html-sitemap-included-objects"),l=O("base-select"),i=O("html-sitemap-exclude-objects");return y(),V("div",null,[f("div",Os,[w(u,{modelValue:e.$root.$data.default,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$root.$data.default=p)},{default:S(()=>[A(g(o.strings.useDefault),1)]),_:1},8,["modelValue"])]),e.$root.$data.default?B("",!0):(y(),V(bt,{key:0},[f("div",Vs,[w(u,{modelValue:e.$root.$data.archives,"onUpdate:modelValue":t[1]||(t[1]=p=>e.$root.$data.archives=p)},{default:S(()=>[A(g(o.strings.archives),1)]),_:1},8,["modelValue"])]),e.$root.$data.archives?B("",!0):(y(),V("div",Bs,[w(u,{modelValue:e.$root.$data.show_label,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$root.$data.show_label=p)},{default:S(()=>[A(g(o.strings.showLabel),1)]),_:1},8,["modelValue"])])),e.$root.$data.archives?B("",!0):(y(),V("div",As,[w(u,{modelValue:e.$root.$data.publication_date,"onUpdate:modelValue":t[3]||(t[3]=p=>e.$root.$data.publication_date=p)},{default:S(()=>[A(g(o.strings.publicationDate),1)]),_:1},8,["modelValue"])])),e.$root.$data.archives?B("",!0):(y(),V("div",xs,[f("p",Ps,g(o.strings.postTypes),1),w(n,{type:"post_types",excluded:["attachment"]})])),e.$root.$data.archives?B("",!0):(y(),V("div",Es,[f("p",Ms,g(o.strings.taxonomies),1),w(n,{type:"taxonomies"})])),e.$root.$data.archives?B("",!0):(y(),V("div",Hs,[f("p",Ns,g(o.strings.sortOrder),1),w(l,{size:"medium",options:o.sortOrders,modelValue:c.getSortOrder(e.$root.$data.order_by),"onUpdate:modelValue":t[4]||(t[4]=p=>e.$root.$data.order_by=p.value),"track-by":"value"},null,8,["options","modelValue"])])),f("div",Ds,[f("p",Rs,g(o.strings.sortDirection),1),w(l,{size:"medium",options:o.sortDirections,modelValue:c.getSortDirection(e.$root.$data.order),"onUpdate:modelValue":t[5]||(t[5]=p=>e.$root.$data.order=p.value),"track-by":"value"},null,8,["options","modelValue"])]),e.$root.$data.archives?B("",!0):(y(),V("div",qs,[f("p",Us,g(o.strings.excludePostsPages),1),w(i,{type:"posts"})])),e.$root.$data.archives?B("",!0):(y(),V("div",zs,[f("p",Fs,g(o.strings.excludeTerms),1),w(i,{type:"terms"})]))],64))])}const Zs=K(Ts,[["render",js]]),$e=window.wp,le=$e.element.createElement,Ws=$e.element.Fragment,Gs=$e.serverSideRender||$e.components.ServerSideRender;var Lo;const Js=((Lo=$e.blockEditor)==null?void 0:Lo.InspectorControls)||$e.editor.InspectorControls,Qs=$e.components.PanelBody,Ys=$e.components.Disabled,Lt="all-in-one-seo-pack",Ks=le("svg",{width:25,height:25,viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg"},le("path",{d:"M4.125 4.5H20.125V20.5H4.125V4.5ZM9.71875 6.89062H17.7188V8.49062H9.71875V6.89062ZM17.7188 10.0781H9.71875V11.6781H17.7188V10.0781ZM9.71875 13.2661H17.7188V14.8661H9.71875V13.2661ZM17.7188 16.5H9.71875V18.1H17.7188V16.5ZM6.51562 6.89062H8.11562V8.49062H6.51562V6.89062ZM8.11562 10.0781H6.51562V11.6781H8.11562V10.0781ZM6.51562 13.2661H8.11562V14.8661H6.51562V13.2661ZM8.11562 16.5H6.51562V18.1H8.11562V16.5Z",fillRule:"evenodd",clipRule:"evenodd"})),mt={},Tt=[],zo="aioseo/html-sitemap",Xs={title:r("AIOSEO - HTML Sitemap",Lt),category:"aioseo",icon:Ks,example:{},attributes:{default:{type:"boolean",default:!0},post_types:{type:"string",default:'["post", "page"]'},post_types_all:{type:"boolean",default:!0},taxonomies:{type:"string",default:'["category", "post_tag"]'},taxonomies_all:{type:"boolean",default:!0},show_label:{type:"boolean",default:!0},archives:{type:"boolean",default:!1},publication_date:{type:"boolean",default:!0},nofollow_links:{type:"boolean",default:!1},order_by:{type:"string",default:"publish_date"},order:{type:"string",default:"asc"},excluded_posts:{type:"string",default:"[]"},excluded_terms:{type:"string",default:"[]"},is_admin:{type:"boolean",default:window.location&&window.location.pathname.startsWith("/wp-admin/")}},edit:function(e){const{setAttributes:t,attributes:a,className:s,clientId:o,isSelected:c,toggleSelection:u}=e,n="aioseo-"+o,l={id:n,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(d){se(o,Tt);let m=ae({name:"Blocks/HtmlSitemap",data:function(){return mt[o]},watch:{$data:{handler:function(h){t(h)},deep:!0}},render:()=>ce(Zs)});m=ke(m),m=hn(m),m=bn(m),it(m),m.mount(d),Tt.push({id:o,app:m})}};c&&(mt[o]={},Object.keys(a).forEach(d=>{mt[o][d]=a[d]}),J(l)),$e.data.useSelect(d=>d("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof u!="function"||u(!0));const p=le(Js,null,le(Qs,{title:r("Display Settings",Lt),initialOpen:!0,onToggle:()=>{J(l)}},le("div",null,le("div",{id:n},null))));return le(Ws,{},p,le("div",{className:s},le(Ys,null,le(Gs,{block:zo,attributes:{...a}}))))},save:function(){return null}},ea=Object.freeze(Object.defineProperty({__proto__:null,name:zo,settings:Xs},Symbol.toStringTag,{value:"Module"})),Z="all-in-one-seo-pack",ta={setup(){return{postEditorStore:we(),rootStore:G()}},components:{BaseInput:ct,BaseSelect:dt,BaseToggle:$t},data(){return{locationsList:[],strings:{selectLocation:this.rootStore.aioseo.localBusiness.postTypeSingleLabel,showLabels:r("Show labels",Z),showIcons:r("Show icons",Z),businessInfo:r("Business Info",Z),showName:r("Name",Z),address:r("Address",Z),phoneNumber:r("Phone Number",Z),faxNumber:r("Fax Number",Z),emailAddress:r("Email Address",Z),showVat:r("Show VAT ID",Z),showTax:r("Show Tax ID",Z),countryCode:r("Phone/Fax Country Code",Z),labels:r("Labels",Z),addressLabel:r("Address",Z),vatIdLabel:r("Vat ID",Z),taxIdLabel:r("Tax ID",Z),phoneLabel:r("Phone",Z),faxLabel:r("Fax",Z),emailLabel:r("Email",Z)}}},methods:{getLocationOptions(e){let t=this.locationsList.find(a=>a.value===e);return!t&&!this.isLocationPostType()&&(t=this.locationsList.find(a=>!!a),t&&(this.$root.$data.locationId=t.value)),t},isLocationPostType(){return this.postEditorStore.currentPost.postType===this.rootStore.aioseo.localBusiness.postTypeName}},created(){this.$root.$data.locations&&this.$root.$data.locations.forEach(e=>{this.locationsList.push({value:e.id,label:e.title.rendered})})}},oa={key:0,class:"sidebar-row"},na={class:"title"},sa={class:"sidebar-row"},aa={class:"sidebar-row"},ia={class:"sidebar-row"},ra={class:"title"},la={class:"sidebar-row"},ca={class:"sidebar-row"},da={class:"sidebar-row"},ua={class:"sidebar-row"},pa={key:1,class:"sidebar-row"},ma={class:"sidebar-row"},fa={class:"sidebar-row"},ha={class:"sidebar-row"},ga={key:2},ba={class:"sidebar-row"},$a={class:"title"},wa={class:"sidebar-row labels"},ya={key:0},va={key:1},_a={key:2},ka={key:3},Sa={key:4},Ca={key:5};function Ia(e,t,a,s,o,c){const u=O("base-select"),n=O("base-toggle"),l=O("base-input");return y(),V("div",null,[o.locationsList.length&&!c.isLocationPostType()?(y(),V("div",oa,[f("p",na,g(o.strings.selectLocation),1),w(u,{size:"medium",options:o.locationsList,modelValue:c.getLocationOptions(e.$root.$data.locationId),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$root.$data.locationId=i.value),"track-by":"value"},null,8,["options","modelValue"])])):B("",!0),f("div",sa,[w(n,{modelValue:e.$root.$data.showLabels,"onUpdate:modelValue":t[1]||(t[1]=i=>e.$root.$data.showLabels=i)},{default:S(()=>[A(g(o.strings.showLabels),1)]),_:1},8,["modelValue"])]),f("div",aa,[w(n,{modelValue:e.$root.$data.showIcons,"onUpdate:modelValue":t[2]||(t[2]=i=>e.$root.$data.showIcons=i)},{default:S(()=>[A(g(o.strings.showIcons),1)]),_:1},8,["modelValue"])]),f("div",ia,[f("p",ra,g(o.strings.businessInfo),1)]),f("div",la,[w(n,{modelValue:e.$root.$data.showName,"onUpdate:modelValue":t[3]||(t[3]=i=>e.$root.$data.showName=i)},{default:S(()=>[A(g(o.strings.showName),1)]),_:1},8,["modelValue"])]),f("div",ca,[w(n,{modelValue:e.$root.$data.showAddress,"onUpdate:modelValue":t[4]||(t[4]=i=>e.$root.$data.showAddress=i)},{default:S(()=>[A(g(o.strings.address),1)]),_:1},8,["modelValue"])]),f("div",da,[w(n,{modelValue:e.$root.$data.showPhone,"onUpdate:modelValue":t[5]||(t[5]=i=>e.$root.$data.showPhone=i)},{default:S(()=>[A(g(o.strings.phoneNumber),1)]),_:1},8,["modelValue"])]),f("div",ua,[w(n,{modelValue:e.$root.$data.showFax,"onUpdate:modelValue":t[6]||(t[6]=i=>e.$root.$data.showFax=i)},{default:S(()=>[A(g(o.strings.faxNumber),1)]),_:1},8,["modelValue"])]),e.$root.$data.showPhone||e.$root.$data.showFax?(y(),V("div",pa,[w(n,{modelValue:e.$root.$data.showCountryCode,"onUpdate:modelValue":t[7]||(t[7]=i=>e.$root.$data.showCountryCode=i)},{default:S(()=>[A(g(o.strings.countryCode),1)]),_:1},8,["modelValue"])])):B("",!0),f("div",ma,[w(n,{modelValue:e.$root.$data.showEmail,"onUpdate:modelValue":t[8]||(t[8]=i=>e.$root.$data.showEmail=i)},{default:S(()=>[A(g(o.strings.emailAddress),1)]),_:1},8,["modelValue"])]),f("div",fa,[w(n,{modelValue:e.$root.$data.showVat,"onUpdate:modelValue":t[9]||(t[9]=i=>e.$root.$data.showVat=i)},{default:S(()=>[A(g(o.strings.showVat),1)]),_:1},8,["modelValue"])]),f("div",ha,[w(n,{modelValue:e.$root.$data.showTax,"onUpdate:modelValue":t[10]||(t[10]=i=>e.$root.$data.showTax=i)},{default:S(()=>[A(g(o.strings.showTax),1)]),_:1},8,["modelValue"])]),e.$root.$data.showLabels?(y(),V("div",ga,[f("div",ba,[f("p",$a,g(o.strings.labels),1)]),f("div",wa,[e.$root.$data.showAddress?(y(),V("div",ya,[f("label",null,g(o.strings.addressLabel),1),w(l,{size:"small",modelValue:e.$root.$data.addressLabel,"onUpdate:modelValue":t[11]||(t[11]=i=>e.$root.$data.addressLabel=i)},null,8,["modelValue"])])):B("",!0),e.$root.$data.showVat?(y(),V("div",va,[f("label",null,g(o.strings.vatIdLabel),1),w(l,{size:"small",modelValue:e.$root.$data.vatIdLabel,"onUpdate:modelValue":t[12]||(t[12]=i=>e.$root.$data.vatIdLabel=i)},null,8,["modelValue"])])):B("",!0),e.$root.$data.showTax?(y(),V("div",_a,[f("label",null,g(o.strings.taxIdLabel),1),w(l,{size:"small",modelValue:e.$root.$data.taxIdLabel,"onUpdate:modelValue":t[13]||(t[13]=i=>e.$root.$data.taxIdLabel=i)},null,8,["modelValue"])])):B("",!0),e.$root.$data.showPhone?(y(),V("div",ka,[f("label",null,g(o.strings.phoneLabel),1),w(l,{size:"small",modelValue:e.$root.$data.phoneLabel,"onUpdate:modelValue":t[14]||(t[14]=i=>e.$root.$data.phoneLabel=i)},null,8,["modelValue"])])):B("",!0),e.$root.$data.showFax?(y(),V("div",Sa,[f("label",null,g(o.strings.faxLabel),1),w(l,{size:"small",modelValue:e.$root.$data.faxLabel,"onUpdate:modelValue":t[15]||(t[15]=i=>e.$root.$data.faxLabel=i)},null,8,["modelValue"])])):B("",!0),e.$root.$data.showEmail?(y(),V("div",Ca,[f("label",null,g(o.strings.emailLabel),1),w(l,{size:"small",modelValue:e.$root.$data.emailLabel,"onUpdate:modelValue":t[16]||(t[16]=i=>e.$root.$data.emailLabel=i)},null,8,["modelValue"])])):B("",!0)])])):B("",!0)])}const La=K(ta,[["render",Ia],["__scopeId","data-v-f724afcb"]]),de=window.wp,q=de.element.createElement,De=de.element.Fragment;var To;const Ta=((To=de.blockEditor)==null?void 0:To.InspectorControls)||de.editor.InspectorControls,Oa=de.components.PanelBody,Va=de.components.Disabled,Ba=de.serverSideRender||de.components.ServerSideRender,Aa=de.data.withSelect,te="all-in-one-seo-pack",xa=q("svg",{width:20,height:19,viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg"},q("path",{d:"M17.2001 7.2L19.0361 9.036L17.7641 10.308L10.0001 2.544L2.23611 10.308L0.964111 9.036L10.0001 0L14.8001 4.8V2.4H17.2001V7.2ZM10.0001 4.248L17.2001 11.436V18.6H2.80011V11.436L10.0001 4.248ZM12.4001 17.4V11.4H7.60011V17.4H12.4001Z"})),Qe={},Ot=[],Vt=[],Fo="aioseo/businessinfo",Pa={title:r("AIOSEO Local - Business Info",te),category:"aioseo",icon:xa,example:{},attributes:{locationId:{type:"number",default:null},showLabels:{type:"boolean",default:!0},addressLabel:{type:"string",default:r("Address:",te)},vatIdLabel:{type:"string",default:r("VAT ID:",te)},taxIdLabel:{type:"string",default:r("Tax ID:",te)},phoneLabel:{type:"string",default:r("Phone:",te)},faxLabel:{type:"string",default:r("Fax:",te)},emailLabel:{type:"string",default:r("Email:",te)},showIcons:{type:"boolean",default:!0},showName:{type:"boolean",default:!0},showAddress:{type:"boolean",default:!0},showPhone:{type:"boolean",default:!0},showFax:{type:"boolean",default:!0},showCountryCode:{type:"boolean",default:!0},showEmail:{type:"boolean",default:!0},showVat:{type:"boolean",default:!0},showTax:{type:"boolean",default:!0},dataObject:{type:"string",default:null},updated:{type:"string",default:Date.now()}},edit:Aa(function(e){const t=G();return{locations:e("core").getEntityRecords("postType",t.aioseo.localBusiness.postTypeName,{per_page:100})}})(function(e){var k;const a=(k=Oe().options.localBusiness)==null?void 0:k.locations.general.multiple,{setAttributes:s,attributes:o,className:c,clientId:u,isSelected:n,toggleSelection:l}=e;let{locations:i}=e;const p="aioseo-"+u;if(a&&i===null)return q(De,{},q("div",{},r("Loading...",te)));if(i=i===null?[]:i,!a&&o.locationId)return q(De,{},q("div",{},r("Please enable multiple locations before using this block.",te)));const d=G();if(a&&i.length===0)return q(De,{},q("div",{},W(r("No %1$s found",te),d.aioseo.localBusiness.postTypePluralLabel)));const m=we();o.locationId=!o.locationId&&m.currentPost.postType===d.aioseo.localBusiness.postTypeName?m.currentPost.id:o.locationId;const h={id:p,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(C){se(u,Ot);let $=ae({name:"Blocks/BusinessInfo",data:function(){return Qe[u]},watch:{$data:{handler:function(P){s(P)},deep:!0}},render:()=>ce(La)});$=ke($),$.mount(C),Ot.push({id:u,app:$})}};n&&(Qe[u]={},Object.keys(o).forEach(C=>{Qe[u][C]=o[C]}),Qe[u].locations=i,J(h)),de.data.useSelect(C=>C("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof l!="function"||l(!0)),m.currentPost.postType===d.aioseo.localBusiness.postTypeName&&J({id:p+"-watcher",parent:document.querySelector(".block-editor"),subtree:!0,done:function(C){se(u,Vt);let $=ae({name:"Blocks/BusinessInfoWatcher",data:function(){return m.currentPost.local_seo.locations.business},watch:{$data:{handler:function(){s({updated:Date.now()})},deep:!0}},render:()=>ce("div")});$=ke($),$.mount(C),Vt.push({id:u,app:$})}});const I=q(Ta,null,q(Oa,{title:r("Display Settings",te),initialOpen:!0,onToggle:()=>{J(h)}},q("div",null,q("div",{id:p},null))));return a&&!o.locationId?q(De,{},I,q("div",{},W(r("Select a %1$s",te),d.aioseo.localBusiness.postTypeSingleLabel))):q(De,{},I,q("div",{className:c},q(Va,null,q(Ba,{block:Fo,attributes:{locationId:o.locationId?o.locationId:0,layout:o.layout,showLabels:o.showLabels,showIcons:o.showIcons,showName:o.showName,showAddress:o.showAddress,showPhone:o.showPhone,showFax:o.showFax,showCountryCode:o.showCountryCode,showEmail:o.showEmail,showVat:o.showVat,showTax:o.showTax,addressLabel:o.addressLabel,vatIdLabel:o.vatIdLabel,taxIdLabel:o.taxIdLabel,phoneLabel:o.phoneLabel,faxLabel:o.faxLabel,emailLabel:o.emailLabel,updated:o.updated,dataObject:m.currentPost.postType===d.aioseo.localBusiness.postTypeName?JSON.stringify(m.currentPost.local_seo.locations.business):null}})),q("div",{},q("div",{id:p+"-watcher"},null))))}),save:function(){return null}},Ea=Object.freeze(Object.defineProperty({__proto__:null,name:Fo,settings:Pa},Symbol.toStringTag,{value:"Module"})),re="all-in-one-seo-pack",Ma={setup(){return{postEditorStore:we(),rootStore:G()}},components:{BaseInput:ct,BaseSelect:dt,BaseToggle:$t},data(){return{locationsList:[],strings:{selectLocation:this.rootStore.aioseo.localBusiness.postTypeSingleLabel,showTitle:r("Show Title",re),showIcons:r("Show Icons",re),Monday:r("Monday",re),Tuesday:r("Tuesday",re),Wednesday:r("Wednesday",re),Thursday:r("Thursday",re),Friday:r("Friday",re),Saturday:r("Saturday",re),Sunday:r("Sunday",re),label:r("Label",re)}}},methods:{getLocationOptions(e){let t=this.locationsList.find(a=>a.value===e);return!t&&!this.isLocationPostType()&&(t=this.locationsList.find(a=>!!a),t&&(this.$root.$data.locationId=t.value)),t},isLocationPostType(){return this.postEditorStore.currentPost.postType===this.rootStore.aioseo.localBusiness.postTypeName}},created(){this.$root.$data.locations&&this.$root.$data.locations.forEach(e=>{this.locationsList.push({value:e.id,label:e.title.rendered})})}},Ha={key:0,class:"sidebar-row"},Na={class:"title"},Da={class:"sidebar-row"},Ra={class:"sidebar-row"},qa={class:"sidebar-row"},Ua={class:"sidebar-row"},za={class:"sidebar-row"},Fa={class:"sidebar-row"},ja={class:"sidebar-row"},Za={class:"sidebar-row"},Wa={class:"sidebar-row"},Ga={key:1,class:"sidebar-row labels"};function Ja(e,t,a,s,o,c){const u=O("base-select"),n=O("base-toggle"),l=O("base-input");return y(),V("div",null,[o.locationsList.length&&!c.isLocationPostType()?(y(),V("div",Ha,[f("p",Na,g(o.strings.selectLocation),1),w(u,{size:"medium",options:o.locationsList,modelValue:c.getLocationOptions(e.$root.$data.locationId),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$root.$data.locationId=i.value),"track-by":"value"},null,8,["options","modelValue"])])):B("",!0),f("div",Da,[w(n,{modelValue:e.$root.$data.showTitle,"onUpdate:modelValue":t[1]||(t[1]=i=>e.$root.$data.showTitle=i)},{default:S(()=>[A(g(o.strings.showTitle),1)]),_:1},8,["modelValue"])]),f("div",Ra,[w(n,{modelValue:e.$root.$data.showIcons,"onUpdate:modelValue":t[2]||(t[2]=i=>e.$root.$data.showIcons=i)},{default:S(()=>[A(g(o.strings.showIcons),1)]),_:1},8,["modelValue"])]),f("div",qa,[w(n,{modelValue:e.$root.$data.showMonday,"onUpdate:modelValue":t[3]||(t[3]=i=>e.$root.$data.showMonday=i)},{default:S(()=>[A(g(o.strings.Monday),1)]),_:1},8,["modelValue"])]),f("div",Ua,[w(n,{modelValue:e.$root.$data.showTuesday,"onUpdate:modelValue":t[4]||(t[4]=i=>e.$root.$data.showTuesday=i)},{default:S(()=>[A(g(o.strings.Tuesday),1)]),_:1},8,["modelValue"])]),f("div",za,[w(n,{modelValue:e.$root.$data.showWednesday,"onUpdate:modelValue":t[5]||(t[5]=i=>e.$root.$data.showWednesday=i)},{default:S(()=>[A(g(o.strings.Wednesday),1)]),_:1},8,["modelValue"])]),f("div",Fa,[w(n,{modelValue:e.$root.$data.showThursday,"onUpdate:modelValue":t[6]||(t[6]=i=>e.$root.$data.showThursday=i)},{default:S(()=>[A(g(o.strings.Thursday),1)]),_:1},8,["modelValue"])]),f("div",ja,[w(n,{modelValue:e.$root.$data.showFriday,"onUpdate:modelValue":t[7]||(t[7]=i=>e.$root.$data.showFriday=i)},{default:S(()=>[A(g(o.strings.Friday),1)]),_:1},8,["modelValue"])]),f("div",Za,[w(n,{modelValue:e.$root.$data.showSaturday,"onUpdate:modelValue":t[8]||(t[8]=i=>e.$root.$data.showSaturday=i)},{default:S(()=>[A(g(o.strings.Saturday),1)]),_:1},8,["modelValue"])]),f("div",Wa,[w(n,{modelValue:e.$root.$data.showSunday,"onUpdate:modelValue":t[9]||(t[9]=i=>e.$root.$data.showSunday=i)},{default:S(()=>[A(g(o.strings.Sunday),1)]),_:1},8,["modelValue"])]),e.$root.$data.showTitle?(y(),V("div",Ga,[f("label",null,g(o.strings.label),1),w(l,{size:"small",modelValue:e.$root.$data.label,"onUpdate:modelValue":t[10]||(t[10]=i=>e.$root.$data.label=i)},null,8,["modelValue"])])):B("",!0)])}const Qa=K(Ma,[["render",Ja],["__scopeId","data-v-7aaa8be8"]]),ue=window.wp,U=ue.element.createElement,Re=ue.element.Fragment;var Oo;const Ya=((Oo=ue.blockEditor)==null?void 0:Oo.InspectorControls)||ue.editor.InspectorControls,Ka=ue.components.PanelBody,Xa=ue.components.Disabled,ei=ue.serverSideRender||ue.components.ServerSideRender,ti=ue.data.withSelect,Ce="all-in-one-seo-pack",oi=U("svg",{width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},U("path",{d:"M9.99999 0.400024C15.304 0.400024 19.6 4.69602 19.6 10C19.6 15.304 15.304 19.6 9.99999 19.6C4.69599 19.6 0.399994 15.304 0.399994 10C0.399994 4.69602 4.69599 0.400024 9.99999 0.400024ZM9.99999 17.2C13.972 17.2 17.2 13.972 17.2 10C17.2 6.02802 13.972 2.80002 9.99999 2.80002C6.02799 2.80002 2.79999 6.02802 2.79999 10C2.79999 13.972 6.02799 17.2 9.99999 17.2ZM9.14799 10.852C9.23199 10.912 9.31599 10.972 9.42399 11.032L9.39999 11.056L14.8 13.6L11.164 9.77202L9.99999 4.00002L8.83599 9.77202H8.84799C8.84799 9.79602 8.83599 9.83202 8.82399 9.88002C8.81199 9.92802 8.79999 9.96402 8.79999 10C8.79999 10.336 8.91999 10.624 9.14799 10.852Z"})),Ye={},Bt=[],At=[],jo="aioseo/openinghours",ni={title:r("AIOSEO Local - Opening Hours",Ce),category:"aioseo",icon:oi,example:{},attributes:{locationId:{type:"number",default:null},layout:{type:"string",default:"classic"},showTitle:{type:"boolean",default:!0},showIcons:{type:"boolean",default:!0},showMonday:{type:"boolean",default:!0},showTuesday:{type:"boolean",default:!0},showWednesday:{type:"boolean",default:!0},showThursday:{type:"boolean",default:!0},showFriday:{type:"boolean",default:!0},showSaturday:{type:"boolean",default:!0},showSunday:{type:"boolean",default:!0},label:{type:"string",default:r("Our Opening Hours:",Ce)},dataObject:{type:"string",default:null},updated:{type:"string",default:Date.now()}},edit:ti(function(e){const t=G();return{locations:e("core").getEntityRecords("postType",t.aioseo.localBusiness.postTypeName,{per_page:100})}})(function(e){var k;const a=(k=Oe().options.localBusiness)==null?void 0:k.locations.general.multiple,{setAttributes:s,attributes:o,className:c,clientId:u,isSelected:n,toggleSelection:l}=e;let{locations:i}=e;const p=`aioseo-${u}-settings`;if(a&&i===null)return U(Re,{},U("div",{},r("Loading...",Ce)));if(i=i===null?[]:i,!a&&o.locationId)return U(Re,{},U("div",{},r("Please enable multiple locations before using this block.",Ce)));const d=G();if(a&&i.length===0)return U(Re,{},U("div",{},W(r("No %1$s found",Ce),d.aioseo.localBusiness.postTypePluralLabel)));const m=we();o.locationId=!o.locationId&&m.currentPost.postType===d.aioseo.localBusiness.postTypeName?m.currentPost.id:o.locationId;const h={id:p,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(C){se(u,Bt);let $=ae({name:"Blocks/OpeningHours",data:function(){return Ye[u]},watch:{$data:{handler:function(P){s(P)},deep:!0}},render:()=>ce(Qa)});$=ke($),$.mount(C),Bt.push({id:u,app:$})}};n&&(Ye[u]={},Object.keys(o).forEach(C=>{Ye[u][C]=o[C]}),Ye[u].locations=i,J(h)),ue.data.useSelect(C=>C("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof l!="function"||l(!0)),m.currentPost.postType===d.aioseo.localBusiness.postTypeName&&J({id:p+"-watcher",parent:document.querySelector(".block-editor"),subtree:!0,done:function(C){se(u,At);let $=ae({name:"Blocks/OpeningHoursWatcher",data:function(){return m.currentPost.local_seo.openingHours},watch:{$data:{handler:function(){s({updated:Date.now()})},deep:!0}},render:()=>ce("div")});$=ke($),$.mount(C),At.push({id:u,app:$})}});const I=U(Ya,null,U(Ka,{title:r("Display Settings",Ce),initialOpen:!0,onToggle:()=>{J(h)}},U("div",{},U("div",{id:p},null))));return a&&!o.locationId?U(Re,{},I,U("div",{},W(r("Select a %1$s",Ce),d.aioseo.localBusiness.postTypeSingleLabel))):U(Re,{},I,U("div",{className:c},U(Xa,null,U(ei,{block:jo,attributes:{locationId:o.locationId?o.locationId:0,layout:o.layout,showTitle:o.showTitle,showIcons:o.showIcons,showMonday:o.showMonday,showTuesday:o.showTuesday,showWednesday:o.showWednesday,showThursday:o.showThursday,showFriday:o.showFriday,showSaturday:o.showSaturday,showSunday:o.showSunday,label:o.label,updated:o.updated,dataObject:m.currentPost.postType===d.aioseo.localBusiness.postTypeName?JSON.stringify(m.currentPost.local_seo.openingHours):null}})),U("div",{},U("div",{id:p+"-watcher"},null))))}),save:function(){return null}},si=Object.freeze(Object.defineProperty({__proto__:null,name:jo,settings:ni},Symbol.toStringTag,{value:"Module"})),ai={setup(){return{postEditorStore:we(),rootStore:G()}},components:{BaseSelect:dt},data(){return{locationCategories:[],strings:{selectLocation:this.rootStore.aioseo.localBusiness.taxonomySingleLabel}}},methods:{getCategoryOptions(e){let t=this.locationCategories.find(a=>a.value===e);return t||(t=this.locationCategories.find(a=>a.value===this.postEditorStore.currentPost.localBusinessCategory)||this.locationCategories.find(a=>!!a),t&&(this.$root.$data.categoryId=t.value)),t}},created(){this.$root.$data.categories&&this.$root.$data.categories.forEach(e=>{this.locationCategories.push({value:e.id,label:e.name})})}},ii={class:"sidebar-row"},ri={class:"title"};function li(e,t,a,s,o,c){const u=O("base-select");return y(),V("div",null,[f("div",ii,[f("p",ri,g(o.strings.selectLocation),1),w(u,{size:"medium",options:o.locationCategories,modelValue:c.getCategoryOptions(e.$root.$data.categoryId),"onUpdate:modelValue":t[0]||(t[0]=n=>e.$root.$data.categoryId=n.value),"track-by":"value"},null,8,["options","modelValue"])])])}const ci=K(ai,[["render",li]]),pe=window.wp,z=pe.element.createElement,Be=pe.element.Fragment;var Vo;const di=((Vo=pe.blockEditor)==null?void 0:Vo.InspectorControls)||pe.editor.InspectorControls,ui=pe.components.PanelBody,pi=pe.components.Disabled,mi=pe.serverSideRender||pe.components.ServerSideRender,fi=pe.data.withSelect,Ae="all-in-one-seo-pack",hi=z("svg",{width:20,height:19,viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg"},z("path",{d:"M17.2001 7.2L19.0361 9.036L17.7641 10.308L10.0001 2.544L2.23611 10.308L0.964111 9.036L10.0001 0L14.8001 4.8V2.4H17.2001V7.2ZM10.0001 4.248L17.2001 11.436V18.6H2.80011V11.436L10.0001 4.248ZM12.4001 17.4V11.4H7.60011V17.4H12.4001Z"})),Ke={},xt=[],Zo="aioseo/locations",gi={title:r("AIOSEO Local - Locations",Ae),category:"aioseo",icon:hi,example:{},attributes:{categoryId:{type:"number",default:null}},edit:fi(function(e){const t=G();return{categories:e("core").getEntityRecords("taxonomy",t.aioseo.localBusiness.taxonomyName)}})(function(e){var I;const a=(I=Oe().options.localBusiness)==null?void 0:I.locations.general.multiple,{setAttributes:s,attributes:o,className:c,clientId:u,isSelected:n,toggleSelection:l}=e;let{categories:i}=e;const p="aioseo-"+u;if(a&&i===null)return z(Be,{},z("div",{},r("Loading...",Ae)));if(i=i===null?[]:i,!a)return z(Be,{},z("div",{},r("Please enable multiple locations before using this block.",Ae)));const d=G();if(i.length===0)return z(Be,{},z("div",{},W(r("No %1$s found",Ae),d.aioseo.localBusiness.taxonomyPluralLabel)));const m={id:p,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(k){se(u,xt);let C=ae({name:"Blocks/Locations",data:function(){return Ke[u]},watch:{$data:{handler:function($){s($)},deep:!0}},render:()=>ce(ci)});C=ke(C),C.mount(k),xt.push({id:u,app:C})}};n&&(Ke[u]={},Object.keys(o).forEach(k=>{Ke[u][k]=o[k]}),Ke[u].categories=i,J(m)),pe.data.useSelect(k=>k("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof l!="function"||l(!0));const b=z(di,null,z(ui,{title:d.aioseo.localBusiness.postTypePluralLabel,initialOpen:!0,onToggle:()=>{J(m)}},z("div",{},z("div",{id:p},null))));return i!==null&&i.length===0?z(Be,{},z("div",{},W(r("No %1$s found",Ae),d.aioseo.localBusiness.taxonomyPluralLabel))):o.categoryId?z(Be,{},b,z("div",{className:c},z(pi,null,z(mi,{block:Zo,attributes:{categoryId:o.categoryId}})))):z(Be,{},b,z("div",{},W(r("Select a %1$s",Ae),d.aioseo.localBusiness.taxonomySingleLabel)))}),save:function(){return null}},bi=Object.freeze(Object.defineProperty({__proto__:null,name:Zo,settings:gi},Symbol.toStringTag,{value:"Module"})),Me=window.wp,ne=Me.element.createElement,Xe=Me.element.Fragment,$i=Me.serverSideRender||Me.components.ServerSideRender,wi=Me.components.Disabled,yi=Me.data.withSelect,et="all-in-one-seo-pack",vi=ne("svg",{width:20,height:19,viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg"},ne("path",{d:"M17.2001 7.2L19.0361 9.036L17.7641 10.308L10.0001 2.544L2.23611 10.308L0.964111 9.036L10.0001 0L14.8001 4.8V2.4H17.2001V7.2ZM10.0001 4.248L17.2001 11.436V18.6H2.80011V11.436L10.0001 4.248ZM12.4001 17.4V11.4H7.60011V17.4H12.4001Z"})),Wo="aioseo/locationcategories",_i={title:r("AIOSEO Local - Location Categories",et),category:"aioseo",icon:vi,example:{},edit:yi(function(e){const t=G();return{categories:e("core").getEntityRecords("taxonomy",t.aioseo.localBusiness.taxonomyName)}})(function(e){var c;const a=(c=Oe().options.localBusiness)==null?void 0:c.locations.general.multiple,{className:s}=e;let{categories:o}=e;if(a&&o===null)return ne(Xe,{},ne("div",{},r("Loading...",et)));if(o=o===null?[]:o,!a)return ne(Xe,{},ne("div",{},r("Please enable multiple locations before using this block.",et)));if(o.length===0){const u=G();return ne(Xe,{},ne("div",{},W(r("No %1$s found",et),u.aioseo.localBusiness.taxonomyPluralLabel)))}return ne(Xe,{},ne("div",{className:s},ne(wi,null,ne($i,{block:Wo}))))}),save:function(){return null}},ki=Object.freeze(Object.defineProperty({__proto__:null,name:Wo,settings:_i},Symbol.toStringTag,{value:"Module"})),he="all-in-one-seo-pack",Si={setup(){return{postEditorStore:we(),rootStore:G()}},components:{BaseInput:ct,BaseSelect:dt,BaseToggle:$t,CoreImageUploader:Tn},data(){return{locationsList:[],strings:{selectLocation:this.rootStore.aioseo.localBusiness.postTypeSingleLabel,showLabel:r("Show label",he),showIcon:r("Show icon",he),businessInfo:r("Business Info",he),mapDisplay:r("Map Display",he),width:r("Width",he),height:r("Height",he),customMarker:r("Custom Marker",he),minimumSize:W(r("%1$sThe custom marker should be: 100x100 px.%2$s If the image exceeds those dimensions it could (partially) cover the info popup.",he),"<strong>","</strong>"),label:r("Label",he)}}},methods:{getLocationOptions(e){let t=this.locationsList.find(a=>a.value===e);return!t&&!this.isLocationPostType()&&(t=this.locationsList.find(a=>!!a),t&&(this.$root.$data.locationId=t.value)),t},isLocationPostType(){return this.postEditorStore.currentPost.postType===this.rootStore.aioseo.localBusiness.postTypeName}},created(){this.$root.$data.locations&&this.$root.$data.locations.forEach(e=>{this.locationsList.push({value:e.id,label:e.title.rendered})})}},Ci={key:0,class:"sidebar-row"},Ii={class:"title"},Li={class:"sidebar-row"},Ti={class:"sidebar-row"},Oi={class:"sidebar-row"},Vi={class:"title"},Bi={class:"sidebar-row"},Ai={class:"title"},xi={class:"sidebar-row dimensions"},Pi={key:1,class:"sidebar-row labels"},Ei={class:"title"};function Mi(e,t,a,s,o,c){const u=O("base-select"),n=O("base-toggle"),l=O("core-image-uploader"),i=O("base-input");return y(),V("div",null,[o.locationsList.length&&!c.isLocationPostType()?(y(),V("div",Ci,[f("p",Ii,g(o.strings.selectLocation),1),w(u,{size:"medium",options:o.locationsList,modelValue:c.getLocationOptions(e.$root.$data.locationId),"onUpdate:modelValue":t[0]||(t[0]=p=>e.$root.$data.locationId=p.value),"track-by":"value"},null,8,["options","modelValue"])])):B("",!0),f("div",Li,[w(n,{modelValue:e.$root.$data.showLabel,"onUpdate:modelValue":t[1]||(t[1]=p=>e.$root.$data.showLabel=p)},{default:S(()=>[A(g(o.strings.showLabel),1)]),_:1},8,["modelValue"])]),f("div",Ti,[w(n,{modelValue:e.$root.$data.showIcon,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$root.$data.showIcon=p)},{default:S(()=>[A(g(o.strings.showIcon),1)]),_:1},8,["modelValue"])]),f("div",Oi,[f("p",Vi,g(o.strings.customMarker),1),w(l,{class:"aioseo-image-uploader--no-icon","img-preview-max-width":"100px","img-preview-max-height":"100px","base-size":"small",description:o.strings.minimumSize,modelValue:e.$root.$data.customMarker,"onUpdate:modelValue":t[3]||(t[3]=p=>e.$root.$data.customMarker=p)},null,8,["description","modelValue"])]),f("div",Bi,[f("p",Ai,g(o.strings.mapDisplay),1)]),f("div",xi,[f("div",null,[f("label",null,g(o.strings.width)+":",1),w(i,{size:"small",modelValue:e.$root.$data.width,"onUpdate:modelValue":t[4]||(t[4]=p=>e.$root.$data.width=p)},null,8,["modelValue"])]),f("div",null,[f("div",null,[f("label",null,g(o.strings.height)+":",1),w(i,{size:"small",modelValue:e.$root.$data.height,"onUpdate:modelValue":t[5]||(t[5]=p=>e.$root.$data.height=p)},null,8,["modelValue"])])])]),e.$root.$data.showLabel?(y(),V("div",Pi,[f("p",Ei,g(o.strings.label),1),w(i,{size:"small",modelValue:e.$root.$data.label,"onUpdate:modelValue":t[6]||(t[6]=p=>e.$root.$data.label=p)},null,8,["modelValue"])])):B("",!0)])}const Hi=K(Si,[["render",Mi],["__scopeId","data-v-b101bbec"]]);function Ni(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch{}if(t)return t}function Di(e){let t="";const a=Object.entries(e);let s;for(;s=a.shift();){let[o,c]=s;if(Array.isArray(c)||c&&c.constructor===Object){const n=Object.entries(c).reverse();for(const[l,i]of n)a.unshift([`${o}[${l}]`,i])}else c!==void 0&&(c===null&&(c=""),t+="&"+[o,c].map(encodeURIComponent).join("="))}return t.substr(1)}function Ri(e){try{return decodeURIComponent(e)}catch{return e}}function qi(e,t,a){const s=t.length,o=s-1;for(let c=0;c<s;c++){let u=t[c];!u&&Array.isArray(e)&&(u=e.length.toString()),u=["__proto__","constructor","prototype"].includes(u)?u.toUpperCase():u;const n=!isNaN(Number(t[c+1]));e[u]=c===o?a:e[u]||(n?[]:{}),Array.isArray(e[u])&&!n&&(e[u]={...e[u]}),e=e[u]}}function Ui(e){return(Ni(e)||"").replace(/\+/g,"%20").split("&").reduce((t,a)=>{const[s,o=""]=a.split("=").filter(Boolean).map(Ri);if(s){const c=s.replace(/\]/g,"").split("[");qi(t,c,o)}return t},Object.create(null))}function zi(e="",t){if(!t||!Object.keys(t).length)return e;let a=e;const s=e.indexOf("?");return s!==-1&&(t=Object.assign(Ui(e),t),a=a.substr(0,s)),a+"?"+Di(t)}const me=window.wp,D=me.element.createElement,xe=me.element.Fragment;var Bo;const Fi=((Bo=me.blockEditor)==null?void 0:Bo.InspectorControls)||me.editor.InspectorControls,ji=me.components.PanelBody,Zi=me.components.Disabled,Wi=me.serverSideRender||me.components.ServerSideRender,Gi=me.data.withSelect,ve="all-in-one-seo-pack",Ji=D("svg",{width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},D("path",{d:"M11 11.14L9.83 5.2C9.04 4.77 8.5 3.95 8.5 3C8.5 1.62 9.62 0.499999 11 0.499999C12.38 0.499999 13.5 1.62 13.5 3C13.5 3.95 12.96 4.77 12.17 5.2L11 11.14ZM11 1.5C10.17 1.5 9.5 2.17 9.5 3C9.5 3.83 10.17 4.5 11 4.5C11.83 4.5 12.5 3.83 12.5 3C12.5 2.17 11.83 1.5 11 1.5ZM12.72 6.3L11 13.68L9.27 6.38L5 4.97L2.98023e-08 6.97V15.97L5 13.97L11.12 16L16 13.97V4.97L12.72 6.3Z"})),tt={},Pt=[],Et=[],Qi="aioseo/locationmap",Yi={title:r("AIOSEO Local - Map",ve),category:"aioseo",icon:Ji,example:{},attributes:{locationId:{type:"number",default:null},showLabel:{type:"boolean",default:!0},showIcon:{type:"boolean",default:!0},customMarker:{type:"string",default:null},width:{type:"string",default:"100%"},height:{type:"string",default:"450px"},label:{type:"string",default:r("Our location:",ve)},dataObject:{type:"string",default:null},updated:{type:"string",default:Date.now()}},edit:Gi(function(e){const t=G();return{locations:e("core").getEntityRecords("postType",t.aioseo.localBusiness.postTypeName,{per_page:100})}})(function(e){var E;const t=Oe(),a=(E=t.options.localBusiness)==null?void 0:E.locations.general.multiple,{setAttributes:s,attributes:o,className:c,clientId:u,isSelected:n,toggleSelection:l}=e;let{locations:i}=e;const p="aioseo-location-map-"+u;if(a&&i===null)return D(xe,{},D("div",{},r("Loading...",ve)));if(i=i===null?[]:i,!a&&o.locationId)return D(xe,{},D("div",{},r("Please enable multiple locations before using this block.",ve)));const d=G();if(a&&i.length===0)return D(xe,{},D("div",{},W(r("No %1$s found",ve),d.aioseo.localBusiness.postTypePluralLabel)));const m=we(),h=m.currentPost.postType===d.aioseo.localBusiness.postTypeName;o.locationId=!o.locationId&&h?m.currentPost.id:o.locationId;const b=i.find(T=>T.id===o.locationId),I=h?m.currentPost.local_seo.maps:b?b.maps:null,k={id:p,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(T){se(u,Pt);let x=ae({name:"Blocks/LocationMap",data:function(){return tt[u]},watch:{$data:{handler:function(_){s(_)},deep:!0}},render:()=>ce(Hi)});x=ke(x),x.mount(T),Pt.push({id:u,app:x})}};n&&(tt[u]={},Object.keys(o).forEach(function(T){tt[u][T]=o[T]}),tt[u].locations=i,J(k)),me.data.useSelect(T=>T("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof l!="function"||l(!0)),h&&J({id:p+"-watcher",parent:document.querySelector(".block-editor"),subtree:!0,done:function(T){se(u,Et);let x=ae({name:"Blocks/LocationMapWatcher",data:function(){return m.currentPost.local_seo.maps},watch:{$data:{handler:function(){s({updated:Date.now()})},deep:!0}},render:()=>ce("div")});x=ke(x),x.mount(T),Et.push({id:u,app:x})}});const $=D(Fi,null,D(ji,{title:r("Settings",ve),initialOpen:!0,onToggle:()=>{J(k)}},D("div",null,D("div",{id:p},null))));if(a){if(!o.locationId)return D(xe,{},$,D("div",{},W(r("Select a %1$s",ve),d.aioseo.localBusiness.postTypeSingleLabel)));if(!I){const T=zi("post.php",{post:o.locationId,action:"edit"});return D(xe,{},$,D("div",{dangerouslySetInnerHTML:{__html:W(r("Please configure the map for this location: %1$s",ve),'<a href="'+T+'" target="_blank">'+b.title.rendered+"</a>")}}))}}const P="#"+p+"-preview .aioseo-local-map";return J({selector:P,parent:document.querySelector(".block-editor"),subtree:!0,done:function(){const T=I||t.options.localBusiness.maps;setTimeout(function(){document.dispatchEvent(new CustomEvent(d.aioseo.localBusiness.mapLoadEvent,{detail:{element:P,mapOptions:T.mapOptions,customMarker:o.customMarker||T.customMarker||t.options.localBusiness.maps.customMarker,instance:o,placeId:t.options.localBusiness.maps.mapsEmbedApiEnabled?T.placeId:null,infoWindowContent:T.infoWindowContent?T.infoWindowContent:null}}))},2e3)}}),D(xe,{},$,D("div",{className:c,id:p+"-preview"},D(Zi,null,D(Wi,{block:"aioseo/locationmap",attributes:{locationId:o.locationId?o.locationId:0,showLabel:o.showLabel,showIcon:o.showIcon,customMarker:o.customMarker,width:o.width,height:o.height,label:o.label,updated:o.updated,dataObject:h?JSON.stringify(m.currentPost.local_seo.maps):null}})),D("div",{},D("div",{id:p+"-watcher"},null))))}),save:function(){return null}},Ki=Object.freeze(Object.defineProperty({__proto__:null,name:Qi,settings:Yi},Symbol.toStringTag,{value:"Module"})),Xi="https://schemas.wp.org/wp/5.8/block.json",er="aioseo/table-of-contents",tr="1.0.0",or="AIOSEO - Table of Contents",nr="Automatically output a table of contents (TOC) for long posts or pages (and custom post types).",sr="layout",ar=["toc","table of contents","document outline","summary","index"],ir="all-in-one-seo-pack",rr={listStyle:{type:"string",default:"ul"},headings:{type:"array",items:{type:"object"},default:[]},reOrdered:{type:"boolean",default:!1}},lr={multiple:!1,html:!1,align:["wide","full"]},Go={$schema:Xi,name:er,version:tr,title:or,description:nr,category:sr,keywords:ar,textdomain:ir,attributes:rr,supports:lr},cr={},dr={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-eye-off"},ur=f("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"},null,-1),pr=f("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z",fill:"currentColor"},null,-1),mr=[ur,pr];function fr(e,t){return y(),V("svg",dr,mr)}const hr=K(cr,[["render",fr]]),Mt="all-in-one-seo-pack",gr={name:"List",setup(){return{tableOfContentsStore:Te()}},components:{BaseInput:ct,CoreTooltip:wt,Draggable:Vn,SvgClose:Ho,SvgDrag:Bn,SvgEye:An,SvgEyeOff:hr,SvgInfo:No,SvgTocLink:xn},props:{headings:{required:!0,type:Array},allowReorder:{required:!1,type:Boolean,default(){return!1}}},data(){return{showAnchorField:-1,strings:{tooltipHeader:r("Edit HTML Anchor:",Mt),tooltipDescription:W(r("The HTML anchor allows %1$s to link directly to your header from this table of contents block. Feel free to edit if you want, but an anchor is required. For headings without an anchor, %1$s will automatically generate them.",Mt),"AIOSEO")}}},computed:{dragOptions(){return{tag:this.tableOfContentsStore.listStyle,animation:300,group:"description",disabled:!this.allowReorder,ghostClass:"aioseo-drag-ghost",dragClass:"aioseo-dragging"}}},methods:{setEditedContent:function(e,t){if(e===t.content){t.editedContent="";return}t.editedContent=Mo(e,!0)},setReorder(){this.tableOfContentsStore.reOrdered=!0;const e=On(Ue(this.tableOfContentsStore.headings));this.tableOfContentsStore.setHeadings(e),window.aioseoBus.$emit("updateHeadings"+this.tableOfContentsStore.blockClientId,e)},setAnchor:function(e,t){if(t.anchor=ft(e),!e){const o=G();t.anchor=o.aioseo.data.blocks.toc.hashPrefix+ft(t.content)}const a=t.blockClientId;window.wp.data.select("core/block-editor").getBlock(a)&&window.wp.data.dispatch("core/block-editor").updateBlockAttributes(a,{anchor:t.anchor})},setHiddenStatus(e){e.hidden=!e.hidden,e.editedLevel===9?e.editedLevel=0:e.editedLevel=9,this.tableOfContentsStore.setHeadings(yt([...this.tableOfContentsStore.headings]))},handleAnchorInput(e){const t=e.target.closest(".aioseo-toc-list-item"),a=t==null?void 0:t.querySelector(".row-input--anchor input");a&&(t.classList.contains("anchor-edit")?(t.classList.add("anchor-is-animating"),t.classList.remove("anchor-edit"),t.classList.remove("done"),a.addEventListener("animationend",function s(){t.classList.remove("anchor-is-animating"),t.removeEventListener("animationend",s,!1)})):(a.focus({preventScroll:!0}),t.classList.add("anchor-edit","anchor-is-animating"),a.addEventListener("animationend",function s(){t.classList.remove("anchor-is-animating"),t.classList.add("done"),a.removeEventListener("animationend",s,!1)})))}}},br={class:"aioseo-toc-list-item__inner"},$r={key:0,class:"aioseo-drag-handle has-icon"},wr={key:0,class:"append-icon"},yr={class:"append-icon"},vr={class:"aioseo-tooltip__header"},_r=["onClick"];function kr(e,t,a,s,o,c){const u=O("svg-drag"),n=O("svg-toc-link"),l=O("base-input"),i=O("svg-info"),p=O("core-tooltip"),d=O("svg-close"),m=O("svg-eye-off"),h=O("svg-eye"),b=O("List",!0),I=O("draggable");return y(),F(I,cn({class:["aioseo-toc-list",[{orderable:a.allowReorder}]]},c.dragOptions,{handle:".aioseo-drag-handle",list:a.headings,"onUpdate:modelValue":t[0]||(t[0]=k=>e.$emit("update:modelValue",k)),onChange:t[1]||(t[1]=k=>c.setReorder(k)),"item-key":e.$.uid.toString()}),{item:S(({element:k})=>[f("li",{class:Fe(["aioseo-toc-list-item",{"heading-hidden":k.hidden}])},[f("div",br,[a.allowReorder?(y(),V("button",$r,[w(u)])):B("",!0),w(l,{class:"row-input row-input--content",modelValue:k.editedContent||k.content,"onUpdate:modelValue":C=>c.setEditedContent(C,k),placeholder:k.content},{"append-icon":S(()=>[a.allowReorder?B("",!0):(y(),V("div",wr,[w(n,{onClick:c.handleAnchorInput},null,8,["onClick"])]))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),a.allowReorder?B("",!0):(y(),F(l,{key:1,class:"row-input row-input--anchor",spellcheck:!1,modelValue:k.anchor,"onUpdate:modelValue":C=>c.setAnchor(C,k)},{"append-icon":S(()=>[f("div",yr,[w(p,null,{tooltip:S(()=>[f("p",vr,g(o.strings.tooltipHeader),1),f("p",null,g(o.strings.tooltipDescription),1)]),default:S(()=>[w(i)]),_:1}),w(d,{onClick:c.handleAnchorInput},null,8,["onClick"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])),a.allowReorder?B("",!0):(y(),V("button",{key:2,class:Fe([{active:k.hidden},"aioseo-hide-heading-toggle","has-icon"]),onClick:C=>c.setHiddenStatus(k)},[k.hidden?(y(),F(m,{key:0})):(y(),F(h,{key:1}))],10,_r)),k.headings?(y(),F(b,{key:3,class:"aioseo-toc-list-nested",headings:k.headings,allowReorder:a.allowReorder},null,8,["headings","allowReorder"])):B("",!0)])],2)]),_:1},16,["class","list","item-key"])}const Sr=K(gr,[["render",kr]]),Cr={name:"ListRendered",setup(){return{tableOfContentsStore:Te()}},props:{headings:{required:!0,type:Array}}},Ir=["href"];function Lr(e,t,a,s,o,c){const u=O("ListRendered",!0);return y(),F(Eo(s.tableOfContentsStore.listStyle),{class:"aioseo-toc-list--rendered"},{default:S(()=>[(y(!0),V(bt,null,Po(a.headings,(n,l)=>(y(),V("li",{class:Fe(["aioseo-toc-list-item--rendered",[{hidden:n.hidden}]]),key:l},[f("a",{href:`#${n.anchor}`},g(n.editedContent||n.content),9,Ir),n.headings?(y(),F(u,{key:0,class:"aioseo-toc-list-nested--rendered",headings:n.headings},null,8,["headings"])):B("",!0)],2))),128))]),_:1})}const Tr=K(Cr,[["render",Lr]]),Ht="all-in-one-seo-pack",Or={emits:["closeModal"],setup(){return{links:rt}},components:{CoreModal:Pn,Cta:En},props:{show:Boolean},data(){return{strings:{header:W(r("Reordering Headings is a %1$s Feature",Ht),"PRO"),description:r("Reordering the headings in the Table of Contents block is a feature that can only be used by Pro users. Upgrade to Pro to unlock this advanced functionality.",Ht)}}}};function Vr(e,t,a,s,o,c){const u=O("cta"),n=O("core-modal");return y(),F(n,{show:a.show,classes:["aioseo-toc-modal-lite"],onClose:t[0]||(t[0]=l=>e.$emit("closeModal"))},{body:S(()=>[w(u,{type:1,floating:!1,"cta-link":s.links.getUpsellUrl("toc-block",null,"liteUpgrade"),"button-text":"Unlock Reordering","learn-more-link":s.links.getUpsellUrl("toc-block","reorder-all-features","liteUpgrade")},{"header-text":S(()=>[A(g(o.strings.header),1)]),description:S(()=>[A(g(o.strings.description),1)]),_:1},8,["cta-link","learn-more-link"])]),_:1},8,["show"])}const Br=K(Or,[["render",Vr]]),st={editedContent:"",editedLevel:0,editedOrder:0,hidden:!1,headings:[]},Pe="all-in-one-seo-pack",Ar={setup(){return{tableOfContentsStore:Te()}},components:{CoreTooltip:wt,Info:No,List:Sr,ListRendered:Tr,Reorder:Br},data(){return{showModal:!1,strings:{header:W(r("%1$s Table of Contents",Pe),"AIOSEO"),instructions:r("Add a heading block below to begin generating the Table of Contents.",Pe),tooltipMainDescription:W(r("%1$s can automatically output a table of contents based on your heading tags below. Search engines sometimes use table of contents in search results or rich snippets which can help you increase your rankings.",Pe),"AIOSEO"),reorder:r("Reorder",Pe),save:r("Save",Pe),done:r("Done",Pe)}}},watch:{"tableOfContentsStore.headings":{handler(e,t){nt(e,t)||window.aioseoBus.$emit("setAttributes"+this.tableOfContentsStore.blockClientId,e)},deep:!0},"tableOfContentsStore.reOrdered":{handler(e,t){e!==t&&window.aioseoBus.$emit("setAttributes"+this.tableOfContentsStore.blockClientId,e)}}},methods:{save(e){const t=e.target.closest(".wp-block");t==null||t.classList.remove("is-selected")},setDefaultHeadingProps(e){return Object.keys(st).forEach(t=>{e[t]=st[t]}),e},updateHeadings(e){const t=Le(Ue(this.tableOfContentsStore.headings));let a=e.map(s=>this.setDefaultHeadingProps(s));t.forEach(s=>{const o=a.findIndex(c=>c.blockClientId===s.blockClientId);o!==-1&&(Object.keys(st).forEach(c=>{a[o][c]=s[c]}),a[o].editedContent===a[o].content&&(a[o].editedContent=""),a[o].hidden?a[o].editedLevel=9:a[o].editedLevel===9&&(a[o].editedLevel=0))}),this.tableOfContentsStore.reOrdered?0<a.length-t.length&&(a.sort((s,o)=>s.id-o.id),a.forEach((s,o)=>{s.editedOrder||(s.editedOrder=o+1)}),a.sort((s,o)=>s.editedOrder-o.editedOrder)):a.sort((s,o)=>s.id-o.id),a=yt(a),this.tableOfContentsStore.setHeadings(a)}},mounted(){this.$nextTick(()=>{window.aioseoBus.$on("updateHeadings"+this.tableOfContentsStore.blockClientId,e=>{this.updateHeadings(e)})})}},xr={class:"aioseo-toc-container"},Pr={class:"aioseo-toc-header"},Er={class:"aioseo-toc-header-title"},Mr={key:0,class:"aioseo-toc-header-instructions"},Hr={key:1,class:"aioseo-toc-header-buttons"},Nr={key:0,class:"aioseo-toc-content"};function Dr(e,t,a,s,o,c){const u=O("Info"),n=O("core-tooltip"),l=O("List"),i=O("reorder"),p=O("ListRendered");return y(),V("div",xr,[f("div",{class:Fe(["aioseo-toc-menu",{"aioseo-toc-placeholder":s.tableOfContentsStore.headings.length===0}])},[f("header",Pr,[f("div",Er,[A(g(o.strings.header)+" ",1),w(n,{placement:"bottom"},{tooltip:S(()=>[f("p",null,g(o.strings.tooltipMainDescription),1)]),default:S(()=>[w(u)]),_:1})]),s.tableOfContentsStore.headings.length===0?(y(),V("div",Mr,g(o.strings.instructions),1)):B("",!0),s.tableOfContentsStore.headings.length!==0?(y(),V("div",Hr,[f("a",{class:"aioseo-button-link",href:"#",onClick:t[0]||(t[0]=be(d=>o.showModal=!0,["prevent"]))},g(o.strings.reorder),1),f("a",{class:"aioseo-button-link",href:"#",onClick:t[1]||(t[1]=be((...d)=>c.save&&c.save(...d),["prevent"]))},g(o.strings.done),1)])):B("",!0)]),s.tableOfContentsStore.headings.length!==0?(y(),V("div",Nr,[w(l,{headings:s.tableOfContentsStore.headings},null,8,["headings"])])):B("",!0),w(i,{show:o.showModal,headings:s.tableOfContentsStore.headings,onCloseModal:t[2]||(t[2]=d=>o.showModal=!1)},null,8,["show","headings"])],2),s.tableOfContentsStore.headings.length!==0?(y(),F(p,{key:0,headings:s.tableOfContentsStore.headings},null,8,["headings"])):B("",!0)])}const Rr=K(Ar,[["render",Dr]]),{InspectorControls:Nt}=window.wp.blockEditor,{PanelBody:Dt,SelectControl:qr}=window.wp.components,Rt="all-in-one-seo-pack",Ur=e=>{const{setAttributes:t,attributes:{listStyle:a}}=e,s=Te();return R`
	<${Nt}>
		<${Dt} title=${r("Table of Contents Settings",Rt)}>
			<${qr}
				label=${r("List Style",Rt)}
				options=${[{label:"Bullets",value:"ul"},{label:"Numbers",value:"ol"}]}
				value=${a}
				onChange=${o=>{s.listStyle=o,t({listStyle:o})}}
			/>
		</${Dt}>
	</${Nt}>
`},{select:Jo,subscribe:zr,useSelect:Fr}=window.wp.data,{isTyping:jr}=window.wp.data.select("core/block-editor")||{isTyping:()=>null},at=[];let oe=[],ht=!1;const Zr=Jo("core/edit-post").getEditorMode();zr(()=>{if(Jo("core/edit-post").getEditorMode()!==Zr){const e=Object.keys(at)[0];if(ht=!0,e){const t=document.querySelector(`[data-block="${e}"]`);t&&t.remove()}}});function Wr(e){const{setAttributes:t,attributes:a,clientId:s,className:o,isSelected:c}=e,u=`aioseo-${s}`;if((ht||!at.includes(s)&&(c||document.querySelector(`[data-block="${s}"]`)))&&(ht=!1,at.includes(s)||at.push(s),J({id:u,parent:document.querySelector(".block-editor"),subtree:!0,done:function(n){var p;const l=ae({...Rr,name:"Blocks/TableOfContents"});it(l),l.mount(n);const i=Te();if(i.blockClientId=s,i.headings=a.headings,i.listStyle=a.listStyle,i.reOrdered=a.reOrdered,(p=i.headings)!=null&&p.length&&0<(oe==null?void 0:oe.length)){const d=Le(Ue(i.headings));d.forEach(m=>{const h=oe==null?void 0:oe.find(b=>b.content===m.content&&b.anchor===m.anchor&&b.id===m.id&&b.level===m.level);h&&(m.blockClientId=h.blockClientId)}),i.headings=yt(d),t(i)}window.aioseoBus.$on("setAttributes"+s,()=>{t(i.$state)})}})),oe=Fr(n=>{var $,P,E,T,x;const l=n("core/block-editor");if(!l)return null;const{getBlockAttributes:i,getBlockIndex:p,getBlockName:d,getClientIdsWithDescendants:m}=l,h=p(s),b=[];m().forEach(_=>{var Ve;if(d(_)!=="core/heading"&&d(_)!=="aioseo/faq")return;const L=i(_),X=p(_),je=typeof(L==null?void 0:L.anchor)=="string"&&L.anchor!=="",Ze=L.level||L.tagName.replace("h","");if(Ze==="div")return;let ye=L.question||((Ve=L.content)==null?void 0:Ve.text)||L.content||"";if(!(typeof ye!="string"||ye===""||h>X)){if(ye=Mo(ye.replace(/(<br *\/?>)+/g," "),!0),!je&&!jr()){const v=G();L.anchor=v.aioseo.data.blocks.toc.hashPrefix+ft(ye)}b.push({id:X,blockClientId:_,content:ye,level:Number(Ze),anchor:je?L.anchor:""})}}),b.forEach((_,L)=>{_.order=L});const k=Te(),C=($=Le(Ue(k.headings)))==null?void 0:$.map(_=>(Object.keys(st).forEach(L=>{delete _[L]}),_));return!nt([...b].sort((_,L)=>_.order-L.order),[...C].sort((_,L)=>_.order-L.order))||((E=Le([...(P=i(s))==null?void 0:P.headings]))==null?void 0:E.length)!==[...b].length||((T=i(s))==null?void 0:T.reOrdered)===!0&&!nt(Le([...k.headings]).sort((_,L)=>_.editedOrder-L.editedOrder),Le([...(x=i(s))==null?void 0:x.headings]).sort((_,L)=>_.editedOrder-L.editedOrder))?b:null},[s]),oe!=null&&oe.length){const n=Te(),l=Le(Ue(n.headings));if(!nt([...oe].sort((i,p)=>i.order-p.order),[...l].sort((i,p)=>i.order-p.order))){const i=oe.sort((p,d)=>p.editedOrder-d.editedOrder);window.aioseoBus.$emit("updateHeadings"+s,i)}}return R`
		<div className="${o}">
			<div id="aioseo-${s}"></div>
			${Ur(e)}
		</div>
	`}const{RawHTML:qt}=window.wp.element;function Gr({attributes:{headings:e,listStyle:t}}){if(!e)return"";const a=Qo(e,t);return R`<${qt}>${a}</${qt}>`}const Qo=(e,t)=>{let a=`<${t}>`;return e.forEach(s=>{var u;if(s.hidden)return;let o="<li>";const c=s.editedContent||s.content;o+=`<a href="#${s.anchor}">${nn.encode(c)}</a>`,(u=s.headings)!=null&&u.length&&(o+=Qo(s.headings,t)),o+="</li>",a+=o}),a+=`</${t}>`,a},Jr=R`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/></svg>
`,{name:Qr,title:Yr,description:Kr,keywords:Xr,category:el,supports:tl,attributes:ol}=Go,nl={title:Yr,description:Kr,keywords:Xr,category:el,attributes:ol,icon:Jr,supports:tl,edit:Wr,save:Gr},sl=Object.freeze(Object.defineProperty({__proto__:null,metadata:Go,name:Qr,settings:nl},Symbol.toStringTag,{value:"Module"})),al="https://schemas.wp.org/wp/5.8/block.json",il="aioseo/faq",rl="AIOSEO - FAQ",ll="Easily add an SEO-friendly Frequently Asked Question (FAQ) to your content.",cl="aioseo",dl=["accordion","answer","faq","frequently asked questions","knowledge base","question","schema","seo"],ul="all-in-one-seo-pack",pl={hidden:{type:"boolean",default:!1},question:{type:"string",selector:".aioseo-faq-block-question"},schemaBlockId:{type:"string",default:""},tagName:{type:"string",default:"h3"}},ml={html:!1,anchor:!0,align:["wide","full"],color:{link:!0,__experimentalDefaultControls:{background:!0,text:!0}},typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0,blockGap:!0}},Yo={$schema:al,name:il,title:rl,description:ll,category:cl,keywords:dl,textdomain:ul,attributes:pl,supports:ml},{RichText:fl,InnerBlocks:hl}=window.wp.blockEditor,{PanelBody:Ut,SelectControl:gl,ToggleControl:bl}=window.wp.components,zt=window.wp.blockEditor.InspectorControls||window.wp.editor.InspectorControls,_e="all-in-one-seo-pack",$l=[["core/paragraph",{placeholder:r("Write an answer...",_e)}]],wl=["core/paragraph","core/heading","core/list","core/image","core/media-text"],yl=(e,t,a)=>{const{hidden:s,question:o,tagName:c,schemaBlockId:u}=t,n=rt.getUpsellLink("faq-block",null,Do.learnMore,"sidebar",!0);return R`
		<div data-schema-only="${s}" className="${e}" data-schema-block-id="${u}">
			<${zt}>
				<${Ut} title=${r("FAQ Options",_e)}>
					<${gl}
						label=${r("Title Wrapper",_e)}
						options=${[{label:"DIV",value:"div"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"}]}
						value=${c}
						onChange=${l=>a({tagName:l})}
					/>

					<p className="aioseo-visibility-label">${r("Visibility",_e)}</p>
					<${bl}
						className="aioseo-faq-visibility"
						label=${r("Display Block",_e)}
						help=${r("You can choose to hide this block on the front-end of your site so that visitors won't see it but search engines will still see it.",_e)}
						checked=${!s}
						onChange=${()=>a({hidden:!s})}
						disabled
					/>
					<div className="aioseo-alert aioseo-alert inline-upsell blue medium">
						<div dangerouslySetInnerHTML=${{__html:r("FAQ schema is a Pro feature.",_e)+" "+n}}></div>
					</div>
				</${Ut}>
			</${zt}>
			<${fl}
				tagName=${c}
				placeholder=${r("Write a question...",_e)}
				className='aioseo-faq-block-question'
				value=${o}
				onChange=${l=>a({question:l})}
			/>
			<div className="aioseo-faq-block-answer">
				<${hl}
					template=${$l}
					allowedBlocks=${wl}
				/>
			</div>
		</div>
	`},{useSelect:Ft}=window.wp.data,{useEffect:vl}=window.wp.element,{serialize:_l}=window.wp.blocks,Ee=[],kl=e=>{const{body:t}=document.implementation.createHTMLDocument("");t.innerHTML=e;function a(s){var c;const o=s.childNodes;for(const u of o){if((c=u.nodeName)!=null&&c.toLowerCase().includes("comment")&&u.parentNode.removeChild(u),u.attributes)for(const{name:n,value:l}of u.attributes){const i=l.replace(/\s+/g,"").toLowerCase();(!["src","href"].includes(n)||n.startsWith("on")||i.includes("javascript:")||i.includes("data:"))&&u.removeAttribute(n)}a(u)}}return a(t),t.innerHTML.trim().replace(/\s+/g," ")};function Sl(e){const{attributes:t,className:a,clientId:s,setAttributes:o,isSelected:c}=e,{schemaBlockId:u}=t;!Ee.includes(s)&&!c&&Ee.push(s);const n=p=>{window.requestAnimationFrame(()=>{o(p)}),window.aioseoBus.$emit("schemaBlockUpdated")};vl(()=>{(!u||1<(document.querySelectorAll(`[data-schema-block-id='${u}']`)||[]).length)&&n({schemaBlockId:wn()})},[]);const l=Ft(p=>{const d=p("core/block-editor");if(!d)return;const{getAdjacentBlockClientId:m,getBlockAttributes:h,getBlockName:b,getClientIdsWithDescendants:I,getGlobalBlockCount:k}=d;if(Ee.includes(s)||2>k("aioseo/faq"))return null;const C=m(s,-1);if(b(C)==="aioseo/faq")return h(C);const $=m(s,1);if(b($)==="aioseo/faq")return h($);const E=I().filter(_=>b(_)==="aioseo/faq"),T=E.indexOf(s),x=E[T-1]||E[T+1];return b(x)==="aioseo/faq"?h(x):null},[s,Ee]);c&&!Ee.includes(s)&&!t.question&&l&&(Ee.push(s),window.requestAnimationFrame(()=>{o({backgroundColor:l.backgroundColor,textColor:l.textColor,tagName:l.tagName,hidden:l.hidden,fontSize:l.fontSize,style:l.style})}));const i=Ft(p=>{const d=p("core/block-editor");if(!d)return;const{getBlocks:m}=d;return(b=>{const I=m(b),k=_l(I);return kl(k)})(s)},[s]);return n({answer:i}),yl(a,t,n)}const{RichText:Cl,InnerBlocks:Il}=window.wp.blockEditor;function Ll({attributes:e,className:t}){const{question:a,hidden:s,tagName:o}=e;return R`
		<div data-schema-only="${s}" className=${t}>
			<${Cl.Content}
				tagName=${o}
				className="aioseo-faq-block-question"
				value=${a}
			/>
			<div className="aioseo-faq-block-answer">
				<${Il.Content} />
			</div>
		</div>
	`}const Tl=R`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 15q.425 0 .738-.312.312-.313.312-.738t-.312-.738Q14.425 12.9 14 12.9t-.737.312q-.313.313-.313.738t.313.738Q13.575 15 14 15Zm-.75-3.2h1.5q0-.725.15-1.063.15-.337.7-.887.75-.75 1-1.213.25-.462.25-1.087 0-1.125-.788-1.837Q15.275 5 14 5q-1.025 0-1.787.575-.763.575-1.063 1.525l1.35.55q.225-.625.613-.938Q13.5 6.4 14 6.4q.6 0 .975.337.375.338.375.913 0 .35-.2.662-.2.313-.7.788-.825.725-1.012 1.137-.188.413-.188 1.563ZM8 18q-.825 0-1.412-.587Q6 16.825 6 16V4q0-.825.588-1.413Q7.175 2 8 2h12q.825 0 1.413.587Q22 3.175 22 4v12q0 .825-.587 1.413Q20.825 18 20 18Zm-4 4q-.825 0-1.412-.587Q2 20.825 2 20V6h2v14h14v2Z"/></svg>
`,jt="all-in-one-seo-pack",{name:Ol,title:Vl,description:Bl,category:Al,supports:xl,attributes:Pl}=Yo,El={title:Vl,description:Bl,category:Al,attributes:Pl,icon:Tl,example:{attributes:{question:r("Who should use AIOSEO?",jt)},innerBlocks:[{name:"core/paragraph",attributes:{content:r("All in One SEO is perfect for business owners, bloggers, designers, developers, photographers, and basically everyone else. If you want to optimize your WordPress SEO, then you need to use All in One SEO Pack.",jt)}}]},supports:xl,edit:Sl,save:Ll},Ml=Object.freeze(Object.defineProperty({__proto__:null,metadata:Yo,name:Ol,settings:El},Symbol.toStringTag,{value:"Module"})),Hl="https://schemas.wp.org/wp/5.8/block.json",Nl="aioseo/key-points",Dl="AIOSEO - Key Points",Rl="Easily add an Too Long, Didn't Read (TLDR) to your content.",ql="text",Ul=["list","tldr","key points"],zl="all-in-one-seo-pack",Fl={html:!1},Ko={$schema:Hl,name:Nl,title:Dl,description:Rl,category:ql,keywords:Ul,textdomain:zl,supports:Fl},{InnerBlocks:jl}=window.wp.blockEditor,{useEffect:Zl}=window.wp.element,{select:Wl,dispatch:Zt,subscribe:Gl}=window.wp.data;function Jl(e){const{className:t,clientId:a}=e;return Zl(()=>{const s=Gl(()=>{const c=Wl("core/block-editor").getBlocks(a).find(u=>u.name==="core/list");if(c){Zt("core/block-editor").selectBlock(c.clientId);const u=c.attributes.values;if(u){const n=u.indexOf("<li>")+4,l={clientId:c.clientId,start:n,end:n};Zt("core/block-editor").selectBlock(c.clientId,l)}s()}});return()=>s()},[a]),R`
    <div className="${t}">
      <div id="aioseo-${a}">
				<${jl}
					template=${[["core/list"]]}
					templateLock="all"
				/>
      </div>
    </div>
  `}const{InnerBlocks:Ql}=window.wp.blockEditor;function Yl({className:e}){return R`
    <div className=${e}>
      <div className="aioseo-key-points-block-content">
        <${Ql.Content} />
      </div>
    </div>
  `}const Kl=R`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path fillRule="evenodd" clipRule="evenodd" d="M4.125 4.5H20.125V20.5H4.125V4.5ZM9.71875 6.89062H17.7188V8.49062H9.71875V6.89062ZM17.7188 10.0781H9.71875V11.6781H17.7188V10.0781ZM9.71875 13.2661H17.7188V14.8661H9.71875V13.2661ZM17.7188 16.5H9.71875V18.1H17.7188V16.5ZM6.51562 6.89062H8.11562V8.49062H6.51562V6.89062ZM8.11562 10.0781H6.51562V11.6781H8.11562V10.0781ZM6.51562 13.2661H8.11562V14.8661H6.51562V13.2661ZM8.11562 16.5H6.51562V18.1H8.11562V16.5Z"/></svg>
`,Xl="all-in-one-seo-pack",{name:ec,title:tc,description:oc,category:nc,supports:sc,attributes:ac}=Ko,ic={title:tc,description:oc,category:nc,attributes:ac,icon:Kl,example:{innerBlocks:[{name:"core/paragraph",attributes:{content:r("All in One SEO is perfect for business owners, bloggers, designers, developers, photographers, and basically everyone else. If you want to optimize your WordPress SEO, then you need to use All in One SEO Pack.",Xl)}}]},supports:sc,edit:Jl,save:Yl},rc=Object.freeze(Object.defineProperty({__proto__:null,metadata:Ko,name:ec,settings:ic},Symbol.toStringTag,{value:"Module"})),lc="https://schemas.wp.org/wp/5.8/block.json",cc="aioseo/ai-assistant",dc="AIOSEO - AI Assistant",uc="aioseo",pc="Quickly generate content using Artificial Intelligence.",mc={html:!1,multiple:!0,reusable:!1,customClassName:!1},fc={content:{type:"string",default:""},userPrompt:{type:"string",default:""},messages:{type:"array",default:null},isFetching:{type:"boolean",default:!1},tone:{type:"string",default:""},audience:{type:"string",default:""}},hc=["aioseo","ai","content","generator","generate","assistant","help","magic","intelligence"],gc="all-in-one-seo-pack",bc={$schema:lc,name:cc,title:dc,category:uc,description:pc,supports:mc,attributes:fc,keywords:hc,textdomain:gc},$c="all-in-one-seo-pack",wc={tone:r("Tone",$c)},{SelectControl:yc}=window.wp.components,vc=({value:e,onChange:t})=>{const{toneOptions:a}=lt();return R`
		<${yc}
			label="${wc.tone}"
			value=${e}
			options=${a}
			onChange=${t}
			__next40pxDefaultSize=${!0}
			__nextHasNoMarginBottom=${!0}
		/>`},Q="all-in-one-seo-pack",Y={selectLanguage:r("Select language",Q),translate:r("Translate",Q),arabic:r("Arabic",Q),chinese:r("Chinese",Q),dutch:r("Dutch",Q),english:r("English",Q),french:r("French",Q),german:r("German",Q),hindi:r("Hindi",Q),italian:r("Italian",Q),japanese:r("Japanese",Q),korean:r("Korean",Q),portuguese:r("Portuguese",Q),spanish:r("Spanish",Q),turkish:r("Turkish",Q)},{Dropdown:_c,ToolbarButton:kc,ToolbarGroup:Wt,MenuGroup:Gt,MenuItem:Jt}=window.wp.components,Sc=[Y.arabic,Y.chinese,Y.dutch,Y.english,Y.french,Y.german,Y.hindi,Y.italian,Y.japanese,Y.korean,Y.portuguese,Y.spanish,Y.turkish],Cc=({attributes:e,onChange:t})=>R`
<${Wt}>
	<${_c}
		popoverProps=${{placement:"bottom-start"}}
		renderToggle=${({isOpen:a,onToggle:s})=>R`
			<${kc}
				disabled=${!e.content||e.isFetching}
				icon="admin-site-alt3"
				label="${Y.translate}"
				onClick=${s}
				aria-expanded=${a}
			/>
		`}
		renderContent=${({onClose:a})=>R`
			<${Gt} label="${Y.selectLanguage}">
				${Sc.map(s=>R`
					<${Jt} onClick=${()=>{t(s),a()}}>
						${s}
					</${Jt}>
				`)}
			</${Gt}>
		`}
	/>
</${Wt}>`,qe="all-in-one-seo-pack",ze={improve:r("Improve",qe),selectAction:r("Select action",qe),summarize:r("Summarize",qe),makeLonger:r("Make longer",qe),makeShorter:r("Make shorter",qe)};var Ao;const{Dropdown:Ic,ToolbarButton:Lc,ToolbarGroup:Qt,MenuGroup:Yt,MenuItem:Kt}=((Ao=window.wp)==null?void 0:Ao.components)||{},Tc=[ze.summarize,ze.makeLonger,ze.makeShorter],Oc=({attributes:e,onChange:t})=>R`
<${Qt}>
	<${Ic}
		popoverProps=${{placement:"bottom-start"}}
		renderToggle=${({isOpen:a,onToggle:s})=>R`
			<${Lc}
				disabled=${!e.content||e.isFetching}
				icon="admin-customizer"
				label="${ze.improve}"
				onClick=${s}
				aria-expanded=${a}
			/>
		`}
		renderContent=${({onClose:a})=>R`
			<${Yt} label="${ze.selectAction}">
				${Tc.map(s=>R`
					<${Kt} onClick=${()=>{t(s),a()}}>
						${s}
					</${Kt}>
				`)}
			</${Yt}>
		`}
	/>
</${Qt}>`,Vc="all-in-one-seo-pack",Bc={audience:r("Audience",Vc)},{SelectControl:Ac}=window.wp.components,xc=({value:e,onChange:t})=>{const{audienceOptions:a}=lt();return R`
		<${Ac}
			label="${Bc.audience}"
			value=${e}
			options=${a}
			onChange=${t}
			__next40pxDefaultSize=${!0}
			__nextHasNoMarginBottom=${!0}
		/>`};async function Pc(e,t){const a=e.getReader();let s;for(;!(s=await a.read()).done;)t(s.value)}function Ec(e){let t,a,s,o=!1;return function(u){t===void 0?(t=u,a=0,s=-1):t=Hc(t,u);const n=t.length;let l=0;for(;a<n;){o&&(t[a]===10&&(l=++a),o=!1);let i=-1;for(;a<n&&i===-1;++a)switch(t[a]){case 58:s===-1&&(s=a-l);break;case 13:o=!0;case 10:i=a;break}if(i===-1)break;e(t.subarray(l,i),s),l=a,s=-1}l===n?t=void 0:l!==0&&(t=t.subarray(l),a-=l)}}function Mc(e,t,a){let s=Xt();const o=new TextDecoder;return function(u,n){if(u.length===0)a==null||a(s),s=Xt();else if(n>0){const l=o.decode(u.subarray(0,n)),i=n+(u[n+1]===32?2:1),p=o.decode(u.subarray(i));switch(l){case"data":s.data=s.data?s.data+`
`+p:p;break;case"event":s.event=p;break;case"id":e(s.id=p);break;case"retry":const d=parseInt(p,10);isNaN(d)||t(s.retry=d);break}}}}function Hc(e,t){const a=new Uint8Array(e.length+t.length);return a.set(e),a.set(t,e.length),a}function Xt(){return{data:"",event:"",id:"",retry:void 0}}var Nc=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(a[s[o]]=e[s[o]]);return a};const gt="text/event-stream",Dc=1e3,eo="last-event-id";function Rc(e,t){var{signal:a,headers:s,onopen:o,onmessage:c,onclose:u,onerror:n,openWhenHidden:l,fetch:i}=t,p=Nc(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,m)=>{const h=Object.assign({},s);h.accept||(h.accept=gt);let b;function I(){b.abort(),document.hidden||T()}l||document.addEventListener("visibilitychange",I);let k=Dc,C=0;function $(){document.removeEventListener("visibilitychange",I),window.clearTimeout(C),b.abort()}a==null||a.addEventListener("abort",()=>{$(),d()});const P=i??window.fetch,E=o??qc;async function T(){var x;b=new AbortController;try{const _=await P(e,Object.assign(Object.assign({},p),{headers:h,signal:b.signal}));await E(_),await Pc(_.body,Ec(Mc(L=>{L?h[eo]=L:delete h[eo]},L=>{k=L},c))),u==null||u(),$(),d()}catch(_){if(!b.signal.aborted)try{const L=(x=n==null?void 0:n(_))!==null&&x!==void 0?x:k;window.clearTimeout(C),C=window.setTimeout(T,L)}catch(L){$(),m(L)}}}T()})}function qc(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(gt)))throw new Error(`Expected content-type to be ${gt}, Actual: ${t}`)}const Uc={},zc={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-renew"},Fc=f("path",{d:"M3.39984 10.7C3.15539 10.2777 2.97206 9.8444 2.84984 9.39996C2.72762 8.95551 2.6665 8.49996 2.6665 8.03329C2.6665 6.5444 3.18317 5.27774 4.2165 4.23329C5.24984 3.18885 6.51095 2.66663 7.99984 2.66663H8.1165L7.04984 1.59996L7.98317 0.666626L10.6498 3.33329L7.98317 5.99996L7.04984 5.06663L8.1165 3.99996H7.99984C6.88873 3.99996 5.94428 4.39163 5.1665 5.17496C4.38873 5.95829 3.99984 6.91107 3.99984 8.03329C3.99984 8.32218 4.03317 8.60552 4.09984 8.88329C4.1665 9.16107 4.2665 9.43329 4.39984 9.69996L3.39984 10.7ZM8.0165 15.3333L5.34984 12.6666L8.0165 9.99996L8.94984 10.9333L7.88317 12H7.99984C9.11095 12 10.0554 11.6083 10.8332 10.825C11.6109 10.0416 11.9998 9.08885 11.9998 7.96663C11.9998 7.67774 11.9665 7.3944 11.8998 7.11663C11.8332 6.83885 11.7332 6.56663 11.5998 6.29996L12.5998 5.29996C12.8443 5.72218 13.0276 6.15552 13.1498 6.59996C13.2721 7.0444 13.3332 7.49996 13.3332 7.96663C13.3332 9.45551 12.8165 10.7222 11.7832 11.7666C10.7498 12.8111 9.48873 13.3333 7.99984 13.3333H7.88317L8.94984 14.4L8.0165 15.3333Z",fill:"currentColor"},null,-1),jc=[Fc];function Zc(e,t){return y(),V("svg",zc,jc)}const Wc=K(Uc,[["render",Zc]]),Gc={class:"aioseo-ai-assistant-block"},Jc={class:"aioseo-ai-assistant-block__head"},Qc=["innerHTML"],Yc={class:"aioseo-ai-assistant-block__body"},Kc={class:"aioseo-ai-assistant-block__input-container"},Xc={class:"aioseo-ai-assistant-block__input-row"},ed={class:"aioseo-ai-assistant-block__input-col aioseo-ai-assistant-block__input-col--grow"},td=["placeholder","disabled","maxlength"],od={class:"aioseo-ai-assistant-block__input-col"},nd={class:"aioseo-ai-assistant-block__controls"},sd={key:1},ad={class:"aioseo-ai-assistant-block__input-row aioseo-ai-assistant-block__input-row--gray"},id={class:"aioseo-ai-assistant-block__input-col aioseo-ai-assistant-block__input-col--disclaimer"},rd=["innerHTML"],ld={class:"aioseo-ai-assistant-block__error-container"},cd={__name:"Block",setup(e){const t="all-in-one-seo-pack",{toneOptions:a,audienceOptions:s,hasEnoughCredits:o}=lt(),c=Ro(),u=sn(),n=He(null),l=He({}),i=He(null),p=He(""),d=He({api:null}),m=fn(),h={aiTextGenerator:r("AI Text Generator",t),insert:r("Insert",t),placeholder:r("Write a blog about... Generate a table for...",t),requestUnsuccessful:r("The request was unsuccessful. Status code:",t),generate:r("Generate",t),stop:r("Stop",t),delete:r("Delete",t),regenerate:r("Regenerate",t),noPermission:r("You do not have permission to use the AI Assistant.",t),disclaimer:W(r("AI-generated content could be inaccurate or biased. %1$s",t),rt.getDocLink(Do.learnMore,"aiDisclaimer",!0)),userPromptMaxlength:r("You have reached the maximum number of allowed characters.",t)},b=We(()=>{var v;return(v=i.value)==null?void 0:v.closest("[data-block]").dataset.block}),I=We(()=>{var vt,_t;const v=!!((vt=m.root.data.userPrompt)!=null&&vt.trim().length),H=!!((_t=m.root.data.messages)!=null&&_t.length)&&m.root.data.messages.find(Xo=>Xo.role==="assistant"),N=!!m.root.data.isFetching,fe=!!p.value.length;return{submit:{disabled:!v||!c.hasPermission||!o(c.generationPrice),show:!0,loading:N,text:H?Wc:h.generate,title:H?h.regenerate:"",type:H?"gray":"blue"},insert:{show:fe&&!N},stop:{show:N},delete:{show:H&&!N}}}),k=We(()=>c.hasPermission?d.value.api?d.value.api:null:h.noPermission),C=We(()=>m.root.data.userPrompt.length>=c.options.input.userPrompt.maxlength?h.userPromptMaxlength:null),$=()=>{let v=window.wp.blocks.pasteHandler({HTML:p.value,plainText:m.root.data.content,mode:"AUTO"});typeof v=="string"&&(v=window.wp.blocks.createBlock("core/paragraph",{content:v}));const{dispatch:H}=window.wp.data;H("core/block-editor").replaceBlock(b.value,v)},P=()=>{Ve(),ut(()=>{Ze()})},E=()=>{l.value.abort()},T=()=>{const{dispatch:v}=window.wp.data;v("core/block-editor").removeBlock(b.value)},x=()=>{const v=i.value;v.style.height="auto",v.style.height=v.scrollHeight+"px"},_=()=>{p.value=c.markdownConverter.render(m.root.data.content),x()},L=v=>{const H=m.root.data.messages||[];m.root.data.messages=[...H,v]},X=()=>window.wp.data.select("core/block-editor").getBlock(b.value),je=v=>{if(!v)return!1;const H=v.getBoundingClientRect(),N=window.innerHeight||document.documentElement.clientHeight;return 0<=H.top&&H.top<=N},Ze=()=>{n.value&&(je(n.value)||n.value.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))},ye=()=>{let v="";try{document.querySelectorAll(".aioseo-ai-assistant-block").forEach(N=>{N.style.visibility="hidden"}),v=an(!0),v=v.replace(new RegExp(`<!-- wp:${X().name}.*?/-->`,"gs"),""),v&&1e4<v.length&&(v=v.substring(0,1e4));const H=(rn()||"").trim();H&&(v=H+`

`+v)}catch(H){console.warn("Could not retrieve post content for context:",H),v=""}finally{document.querySelectorAll(".aioseo-ai-assistant-block").forEach(H=>{H.style.visibility="visible"})}return v},Ve=(v={})=>{l.value=new AbortController,d.value.api=null,m.root.data.isFetching=!0,m.root.data.content="",_();const H={role:"user"};v!=null&&v.translate?H.translate=v.translate:v!=null&&v.improve?H.improve=v.improve:H.content=m.root.data.userPrompt,L(H),Rc(rt.restUrl("ai/assistant"),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.aioseo.nonce},method:"POST",body:JSON.stringify({messages:m.root.data.messages,tone:a.find(N=>N.value===X().attributes.tone).label,audience:s.find(N=>N.value===X().attributes.audience).label,postContent:ye().trim()}),cache:"no-store",openWhenHidden:!0,onclose(){_()},onerror(N){throw N},onmessage(N){const fe=JSON.parse(N.data);if(fe!=null&&fe.error)throw new Error(`${fe.error}`);m.root.data.content+=(fe==null?void 0:fe.content)??"",_()},onopen(N){if(!N.ok)throw new Error(`${h.requestUnsuccessful.trim()} ${N.status}`)},signal:l.value.signal}).catch(N=>{console.error(N),d.value.api=N.message}).then(()=>{if(!m.root.data.content.trim().length){m.root.data.messages.pop();return}L({role:"assistant",content:m.root.data.content})}).finally(async()=>{await u.getCredits(!0),m.root.data.isFetching=!1,await ut(),_()})};return dn(()=>{_(),window.aioseoBus.$on("aiAssistantTranslateChange",v=>{!v||v.clientId!==b.value||!v.translate||Ve({translate:v.translate})}),window.aioseoBus.$on("aiAssistantImproveChange",v=>{!v||v.clientId!==b.value||!v.improve||Ve({improve:v.improve})}),ut(()=>{var v;(v=i.value)==null||v.focus()})}),un(()=>{window.aioseoBus.$off("aiAssistantTranslateChange"),window.aioseoBus.$off("aiAssistantImproveChange")}),(v,H)=>(y(),V("div",Gc,[f("div",Jc,[f("div",{ref_key:"contentElement",ref:n,class:"aioseo-ai-assistant-block__content",innerHTML:p.value},null,8,Qc)]),f("div",Yc,[f("div",Kc,[f("div",Xc,[f("div",ed,[pn(f("textarea",{ref_key:"inputElement",ref:i,class:"aioseo-ai-assistant-block__input",placeholder:h.placeholder,disabled:v.$root.$data.isFetching,"onUpdate:modelValue":H[0]||(H[0]=N=>v.$root.$data.userPrompt=N),onInput:x,rows:"1",maxlength:ge(c).options.input.userPrompt.maxlength},null,40,td),[[mn,v.$root.$data.userPrompt]])]),f("div",od,[f("div",nd,[I.value.delete.show?(y(),F(ge(Ge),{key:0,size:"small",type:"gray",class:"aioseo-ai-assistant-block__btn",onClick:be(T,["stop","exact"]),title:h.delete},{default:S(()=>[w(ge(gn),{width:"18",height:"18"})]),_:1},8,["title"])):B("",!0),I.value.submit.show?(y(),F(ge(Ge),{key:1,disabled:I.value.submit.disabled,loading:I.value.submit.loading,type:I.value.submit.type,title:I.value.submit.title,size:"small-table",class:"aioseo-ai-assistant-block__btn",onClick:be(P,["stop","exact"])},{default:S(()=>[typeof I.value.submit.text=="object"?(y(),F(Eo(I.value.submit.text),{key:0,width:"18",height:"18"})):(y(),V("span",sd,g(I.value.submit.text),1))]),_:1},8,["disabled","loading","type","title"])):B("",!0),I.value.insert.show?(y(),F(ge(Ge),{key:2,size:"small-table",type:"blue",class:"aioseo-ai-assistant-block__btn",onClick:be($,["stop","exact"])},{default:S(()=>[f("span",null,g(h.insert),1)]),_:1})):B("",!0),I.value.stop.show?(y(),F(ge(Ge),{key:3,size:"small-table",type:"gray",class:"aioseo-ai-assistant-block__btn",onClick:be(E,["stop","exact"])},{default:S(()=>[f("span",null,g(h.stop),1)]),_:1})):B("",!0)])])]),f("div",ad,[f("div",id,[f("span",{innerHTML:h.disclaimer},null,8,rd)])])]),f("div",ld,[k.value?(y(),F(ge(kt),{key:0,innerHTML:k.value,type:"red",size:"small",style:{"margin-top":"10px"}},null,8,["innerHTML"])):B("",!0),C.value?(y(),F(ge(kt),{key:1,innerHTML:C.value,type:"yellow",size:"small",style:{"margin-top":"10px"}},null,8,["innerHTML"])):B("",!0)])])]))}},dd=K(cd,[["__scopeId","data-v-c8694142"]]),ud={class:"aioseo-ai-assistant-sidebar"},pd={class:"aioseo-ai-assistant-sidebar-cost"},md={__name:"Sidebar",setup(e){const t="all-in-one-seo-pack",a=Ro(),s={cost:W(r("Each AI Assistant request costs %1$s credits.",t),a.generationPrice.toLocaleString())};return(o,c)=>(y(),V("div",ud,[w(ge(Hn),{"tooltip-placement":"bottom","tooltip-offset":"-90px,0","parent-component-context":"sidebar"}),f("div",pd,g(s.cost),1)]))}},fd=K(md,[["__scopeId","data-v-e3f3a363"]]),hd="all-in-one-seo-pack",{BlockControls:to,InspectorControls:oo}=window.wp.blockEditor,{PanelBody:ot}=window.wp.components,{useEffect:gd}=window.wp.element,Ie=[],bd={notFanOfOptions:r("Not a fan of these options? You can set your own tone/audience directly in your prompt.",hd)};function $d(e){const t=Oe(),{setAttributes:a,attributes:s,clientId:o,className:c,isSelected:u,toggleSelection:n}=e,{toneOptions:l,audienceOptions:i}=lt(),p=`aioseo-block-${o}`,d=`aioseo-sidebar-${o}`,m=document.getElementById(p),h=document.querySelector(".block-editor");(u||m)&&J({id:p,parent:h,subtree:!0,loop:!1,done:_=>{if(_.firstChild)return;se(p,Ie);const L=ae({name:"Blocks/AiAssistant",data:()=>s,watch:{"$data.userPrompt":{handler:function(X){a({userPrompt:X})}},"$data.isFetching":{handler:function(X){a({isFetching:X})}},"$data.content":{handler:function(X){a({content:X})}},"$data.messages":{handler:function(X){a({messages:X})}}},render:()=>ce(dd)});it(L),L.mount(_),Ie.push({id:p,app:L})}});const b=Ie.find(_=>d===_.id),I=document.querySelector(".interface-interface-skeleton__sidebar");m&&I&&(!b||!I.contains(b.app._container))&&J({id:d,parent:I,subtree:!0,loop:!1,done:_=>{se(d,Ie);const L=ae({name:"Blocks/AiAssistant/Sidebar",render:()=>ce(fd)});it(L),L.mount(_),Ie.push({id:d,app:L})}}),window.wp.data.useSelect(_=>_("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof n!="function"||n(!0)),gd(()=>()=>{se(p,Ie),se(d,Ie)},[]);const C=_=>{a({tone:_.toLowerCase()})},$=_=>{a({audience:_.toLowerCase()})},P=_=>{window.aioseoBus.$emit("aiAssistantTranslateChange",{clientId:o,translate:_})},E=_=>{window.aioseoBus.$emit("aiAssistantImproveChange",{clientId:o,improve:_})},T=l.find(_=>_.value===t.options.aiContent.tone)||l[0];s.tone||a({tone:T.value});const x=i.find(_=>_.value===t.options.aiContent.audience)||i[0];return s.audience||a({audience:x.value}),R`
	<${to}>
		<${Cc}
			attributes=${s}
			onChange=${P}
		/>

		<${Oc}
			attributes=${s}
			onChange=${E}
		/>
	</${to}>

	<${oo}>
		<${ot} initialOpen=${!0}>
			<${vc}
				value=${s.tone}
				onChange=${C}
			/>

			<${xc}
				value=${s.audience}
				onChange=${$}
			/>

			<div>${bd.notFanOfOptions}</div>
		</${ot}>

		<${ot} initialOpen=${!0}>
			<div
				id=${d}
				class="aioseo-app"
			 />
		</${ot}>
	</${oo}>

	<div className="${c}">
		<div id=${p} />
	</div>`}function wd(){return null}const{name:yd,title:vd,category:_d,description:kd,supports:Sd,attributes:Cd}=bc,Id={title:vd,category:_d,description:kd,supports:Sd,attributes:Cd,icon:yn,edit:$d,save:wd},Ld=Object.freeze(Object.defineProperty({__proto__:null,name:yd,settings:Id},Symbol.toStringTag,{value:"Module"}));var xo;if(((xo=window.aioseo.currentPost)==null?void 0:xo.context)==="post"){let e=[];window.wp.data.subscribe(()=>{t()});const t=St(()=>{const s=window.wp.data.select("core/block-editor").getBlocks();(s.length<e.length||s.length===1)&&a(),e=s},200);window.aioseoBus.$on("schemaBlockUpdated",()=>{a()});const a=St(()=>{var u;let s=window.wp.data.select("core/block-editor").getBlocks();s=$n(s),s=s.filter(n=>{var l;return(l=n==null?void 0:n.attributes)==null?void 0:l.schemaBlockId}),s=s.map(n=>(n.attributes.type=n.name,n));const o=we(),c=((u=o.currentPost.schema)==null?void 0:u.blockGraphs)||[];c.forEach((n,l)=>{const i=s.findIndex(m=>{var h;return((h=m==null?void 0:m.attributes)==null?void 0:h.schemaBlockId)===(n==null?void 0:n.schemaBlockId)});if(i===-1){c.splice(l,1);return}const p={...s[i].attributes};["backgroundColor","textColor","fontSize","style"].forEach(m=>{delete p[m]}),c[l]=p}),s.forEach(n=>{c.findIndex(i=>{var p;return(i==null?void 0:i.schemaBlockId)===((p=n==null?void 0:n.attributes)==null?void 0:p.schemaBlockId)})===-1&&(n!=null&&n.attributes)&&c.push(n.attributes)}),c.sort((n,l)=>{const i=s.findIndex(d=>{var m;return((m=d==null?void 0:d.attributes)==null?void 0:m.schemaBlockId)===(n==null?void 0:n.schemaBlockId)}),p=s.findIndex(d=>{var m;return((m=d==null?void 0:d.attributes)==null?void 0:m.schemaBlockId)===(l==null?void 0:l.schemaBlockId)});return i-p}),o.currentPost.schema.blockGraphs=c},200)}if(ln()){const e=window.wp.element.createElement,t=e("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#434960",d:"M12.434 24c6.627 0 12-5.373 12-12s-5.373-12-12-12c-6.628 0-12 5.373-12 12s5.372 12 12 12zM10.523 4.392a.635.635 0 00-.74-.266 8.07 8.07 0 00-.92.391.659.659 0 00-.337.723l.206 1.041a.746.746 0 01-.264.713 6.293 6.293 0 00-.903.924.717.717 0 01-.698.272l-1.02-.206a.638.638 0 00-.708.346 8.493 8.493 0 00-.38.94.66.66 0 00.263.754l.867.588a.745.745 0 01.307.694 6.54 6.54 0 00.003 1.305.744.744 0 01-.305.695l-.865.591a.661.661 0 00-.26.755c.108.321.236.635.383.94a.638.638 0 00.708.343l1.02-.21a.716.716 0 01.7.27c.267.334.57.643.905.92a.746.746 0 01.266.712L8.55 18.67a.659.659 0 00.34.722 8.045 8.045 0 00.92.388c.458.16 1.097-.413 1.57-.836a1.12 1.12 0 00.379-.82v-1.748c0-.018 0-.036.002-.055-1.397-.34-2.435-1.622-2.435-3.152v-1.85c0-.14.111-.254.25-.254h.864v-1.82c0-.251.2-.455.446-.455a.45.45 0 01.446.455v1.82h2.34v-1.82c0-.251.2-.455.446-.455a.45.45 0 01.446.455v1.82h.865c.138 0 .25.114.25.254v1.85c0 1.578-1.105 2.893-2.569 3.182v1.76c0 .322.149.623.389.832.481.42 1.132.988 1.586.827a8.08 8.08 0 00.921-.391.659.659 0 00.336-.723l-.205-1.042a.746.746 0 01.264-.712c.328-.273.63-.582.902-.924a.717.717 0 01.698-.272l1.02.206a.638.638 0 00.708-.346 8.575 8.575 0 00.38-.94.661.661 0 00-.263-.754l-.867-.588a.745.745 0 01-.307-.694 6.481 6.481 0 00-.003-1.305.745.745 0 01.305-.695l.865-.591a.662.662 0 00.26-.755 8.435 8.435 0 00-.383-.94.638.638 0 00-.708-.343l-1.02.21a.716.716 0 01-.7-.27 6.297 6.297 0 00-.904-.92.747.747 0 01-.267-.712l.202-1.042a.659.659 0 00-.339-.722 8.164 8.164 0 00-.921-.388.635.635 0 00-.74.269l-.575.884a.718.718 0 01-.681.314 6.105 6.105 0 00-1.278.003.718.718 0 01-.682-.311l-.58-.883z"})),{getCategories:a,setCategories:s,registerBlockCollection:o,registerBlockType:c}=window.wp.blocks,u=[...a()];typeof o=="function"?o("aioseo",{title:"AIOSEO",icon:t}):(u.unshift({slug:"aioseo",title:"AIOSEO",icon:t}),s(u));const n=i=>{if(!i)return;const{name:p,settings:d}=i;if(d.icon&&!d.icon.foreground){const m={foreground:"#141B38",src:d.icon};d.icon=m}typeof o=="function"&&d.category==="aioseo"&&(d.category="widgets"),typeof o!="function"&&d.category!=="aioseo"&&(d.category="aioseo"),c(p,d)};(()=>{var i,p;[cs,ea,((p=(i=window==null?void 0:window.aioseo)==null?void 0:i.screen)==null?void 0:p.base)==="post"?sl:null,Ml,rc,Ld].forEach(n),window.aioseo.localBusiness&&[Ea,si,bi,ki,Ki].forEach(n)})()}
