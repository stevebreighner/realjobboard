import{g as P,x as f,o,c as l,l as v,b as c,a as r,t as d,H as M,G as V,N as W,m as E,y as N,w as I,f as g,k as Y,u as t,J}from"./runtime-dom.esm-bundler.5d5e6b71.js";import{p as U,u as j,b as q,z as K,e as Q}from"./index.bd66e758.js";import{p as X}from"./popup.92105c51.js";import{u as F}from"./SeoSiteScore.12437843.js";import{a as G}from"./utils.55c82852.js";import{C as Z}from"./Blur.4fe4b9a3.js";import{j as $}from"./helpers.bf0d86e6.js";import{i as ee}from"./iphone-frame.ba9c1450.js";import{C as oe}from"./DonutChart.d528c6ed.js";import{C as se}from"./Index.3aa1039e.js";import{S as re}from"./Book.a4f504a3.js";import{S as te}from"./Lab.377f83d0.js";import"./translations.d159963e.js";import{_ as ne}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as T,s as w}from"./default-i18n.20001971.js";import{u as ae}from"./ConnectStore.3c011ea9.js";const O="all-in-one-seo-pack",ie={setup(R){const{errorObject:u,strings:i}=F({score:P(R.score)});return{analyzerStore:U(),rootStore:j(),composableStrings:i,errorObject:u,links:q,getAssetUrl:$,iphoneFrame:ee}},components:{CoreDonutChart:oe,CoreSiteScore:se,SvgBook:re,SvgDannieLab:te},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:K({yourHomepageScore:T("Your Homepage Score:",O),goodResult:w(T("A very good score is between %1$s%3$d and %4$d%2$s.",O),"<strong>","</strong>",50,75),forBestResults:w(T("For best results, you should strive for %1$s%3$d and above%2$s.",O),"<strong>","</strong>",70),readUltimateSeoGuide:T("Read the Ultimate WordPress SEO Guide",O)},this.composableStrings)}},computed:{sortedParts(){return G({good:this.summary.good,warnings:this.summary.warnings,issues:this.summary.issues,total:this.summary.total})}}},le={class:"aioseo-seo-analysis"},ce={key:0,class:"seo-analysis-score"},ue={key:1,class:"seo-analysis-description"},me={key:0,class:"seo-analysis-homepage-url"},de=["href"],_e=["innerHTML"],pe=["innerHTML"],ge={class:"d-flex"},ye=["href"],he={key:2,class:"seo-analysis-mobile-snapshot"},Se={class:"mobile-snapshot-image"},fe=["src"],ve=["src"],ke={key:3,class:"seo-analysis-error"},be={class:"error-title"},Ce=["innerHTML"],ze={class:"error-action-buttons"};function Ae(R,u,i,e,m,n){var p,k,b,C,z,A,x,a,S;const H=f("core-site-score"),_=f("core-donut-chart"),L=f("svg-book"),y=f("svg-dannie-lab"),h=f("base-button");return o(),l("div",le,[e.analyzerStore.analyzeError?c("",!0):(o(),l("div",ce,[i.loading?(o(),v(H,{key:0,loading:!0,score:parseInt(i.score),description:i.description,strokeWidth:1.75},null,8,["score","description"])):(o(),v(_,{key:1,parts:n.sortedParts,total:parseInt(i.score),label:i.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),e.analyzerStore.analyzeError?c("",!0):(o(),l("div",ue,[r("h2",null,d(m.strings.yourHomepageScore),1),(b=(k=(p=e.rootStore)==null?void 0:p.aioseo)==null?void 0:k.urls)!=null&&b.home?(o(),l("span",me,[r("a",{target:"_blank",href:e.rootStore.aioseo.urls.home},d(e.rootStore.aioseo.urls.home),9,de)])):c("",!0),r("div",{innerHTML:m.strings.goodResult},null,8,_e),r("div",{innerHTML:m.strings.forBestResults},null,8,pe),r("div",ge,[M(L),r("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},d(m.strings.readUltimateSeoGuide),9,ye)])])),!e.analyzerStore.analyzeError&&((A=(z=(C=e.analyzerStore.homeResults)==null?void 0:C.results)==null?void 0:z.advanced)!=null&&A.mobileSnapshot)?(o(),l("div",he,[r("div",Se,[r("img",{class:"mobile-snapshot-image__frame",src:e.getAssetUrl(e.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,fe),r("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:(S=(a=(x=e.analyzerStore.homeResults)==null?void 0:x.results)==null?void 0:a.advanced)==null?void 0:S.mobileSnapshot},null,8,ve)])])):c("",!0),e.analyzerStore.analyzeError&&e.errorObject?(o(),l("div",ke,[M(y),r("p",be,d(m.strings.anErrorOccurred),1),r("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,Ce),r("div",ze,[(o(!0),l(V,null,W(e.errorObject.buttons,(s,D)=>(o(),v(h,{key:D,type:s.type,tag:s.tag?s.tag:"button",target:"_blank",href:s.url?s.url:"",size:"medium",loading:(s==null?void 0:s.runAgain)&&e.analyzerStore.analyzing,onClick:Oe=>s!=null&&s.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:E(()=>[N(d(s.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):c("",!0)])}const B=ne(ie,[["render",Ae]]),xe={class:"aioseo-seo-site-score"},Te={key:1,class:"aioseo-seo-site-score-cta"},Ie={__name:"Analyze",setup(R){const u=P(0),{connectWithAioseo:i,description:e,strings:m}=F({score:u}),n=U(),H=ae(),_=Q(),L=j();I(()=>n.homeResults.score,a=>{u.value=a});const y=g(()=>n.goodCount("homepage")),h=g(()=>n.recommendedCount("homepage")),p=g(()=>n.criticalCount("homepage")),k=g(()=>y.value+h.value+p.value),b=g(()=>({recommended:h.value,critical:p.value,good:y.value})),C=g(()=>G({good:y.value,warnings:h.value,issues:p.value,total:k.value})),z=a=>{X(a,i,600,630,!0,["token"],A,x)},A=a=>H.saveConnectToken(a.token),x=a=>{a&&n.runSiteAnalyzer()};return Y(()=>{!n.homeResults.score&&_.internalOptions.internal.siteAnalysis.connectToken&&n.runSiteAnalyzer(),u.value=n.homeResults.score}),(a,S)=>(o(),l("div",xe,[t(_).internalOptions.internal.siteAnalysis.connectToken?c("",!0):(o(),v(t(Z),{key:0},{default:E(()=>[M(t(B),{score:85,description:t(e)},null,8,["description"])]),_:1})),t(_).internalOptions.internal.siteAnalysis.connectToken?c("",!0):(o(),l("div",Te,[r("a",{href:"#",onClick:S[0]||(S[0]=J(s=>z(t(L).aioseo.urls.connect),["prevent"]))},d(t(i)),1),N(" "+d(t(m).toSeeYourSiteScore),1)])),t(_).internalOptions.internal.siteAnalysis.connectToken?(o(),v(t(B),{key:2,score:u.value,description:t(e),loading:t(n).analyzing,summary:b.value,parts:C.value},null,8,["score","description","loading","summary","parts"])):c("",!0)]))}};export{Ie as _};
