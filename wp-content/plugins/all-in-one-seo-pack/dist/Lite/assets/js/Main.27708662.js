import{p as E,am as q,m as ne,a4 as ie,u as j,b as J,j as X}from"./index.bd66e758.js";import re from"./AnalyzeCompetitorSite.448e2402.js";import{C as le}from"./Index.306079bc.js";import ce from"./SeoHomepageAudit.b1b24b92.js";import{G as ue}from"./constants.fe8bda37.js";import{C as G}from"./Blur.4fe4b9a3.js";import{C as V}from"./Card.88a70537.js";import{C as de}from"./DonutChartWithLegend.e59b7f95.js";import{C as z}from"./Tooltip.418c677c.js";import{C as pe}from"./Tabs.38c9ba5c.js";import{u as Z}from"./WpTable.9f213bdf.js";import{_ as w}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as s,c as g,t as d,K as F,f as O,H as h,m as a,a as y,y as T,u as e,b as _,g as M,k as me,l as f,x as N,L as W,v as ee,q as _e}from"./runtime-dom.esm-bundler.5d5e6b71.js";import{S as ye}from"./Info.6a61aa9f.js";import"./translations.d159963e.js";import{_ as n,s as te}from"./default-i18n.20001971.js";import{C as se}from"./Table.ede098b2.js";import{d as ge,a as oe,S as fe,c as he}from"./Caret.382b7591.js";import{S as ke}from"./Information.3b2ed489.js";import{S as ae}from"./index.eb92a2a8.js";import{S as be}from"./Gear.de600e87.js";import{a as ve}from"./allowed.6a0a8b85.js";import{a as Se}from"./utils.55c82852.js";import{C as xe}from"./Index.1a358ca4.js";import Ae from"./HeadlineAnalyzer.8b3c281c.js";import"./helpers.bf0d86e6.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.12437843.js";import"./Score.2b0b557f.js";import"./popup.92105c51.js";import"./params.af7ed354.js";import"./ConnectStore.3c011ea9.js";import"./SetupWizardStore.4b9e88e8.js";import"./iphone-frame.ba9c1450.js";import"./GoogleSearchPreview.d0cab464.js";import"./Url.47c8a1c7.js";import"./Slide.a525748d.js";import"./Refresh.f1edec25.js";import"./DonutChart.d528c6ed.js";import"./AnimatedNumber.cc7d07cd.js";import"./numbers.9fc174f3.js";import"./Loading.28c36947.js";import"./vue-router.ad00dfec.js";import"./license.32be7976.js";import"./upperFirst.9b123e9b.js";/* empty css             */import"./Header.393ae426.js";import"./addons.efc46fe0.js";import"./ScrollAndHighlight.dd46331b.js";import"./LicenseKeyBar.b06d3d5d.js";import"./LogoGear.4749bc9b.js";import"./Logo.a44a17ba.js";import"./Support.9fe5eb28.js";import"./date.b84c8300.js";import"./datetime.f197aeae.js";import"./Exclamation.991934cc.js";import"./Analyze.a9cf9064.js";import"./Index.3aa1039e.js";import"./Book.a4f504a3.js";import"./Lab.377f83d0.js";import"./ProBadge.aeac9858.js";import"./Download.cd0121de.js";import"./Row.aff98451.js";import"./List.a3872295.js";const Ce={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(k){return(o,i)=>(s(),g("span",{class:F(["aioseo-badge round",k.color])},d(k.text),3))}},Te=w(Ce,[["__scopeId","data-v-64238476"]]),$e={key:0,class:"aioseo-seo-analysis-post-status-badge"},Ie={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(k){const o="all-in-one-seo-pack",i=k,l={tooltip:n("The results for this post may be inaccurate or vary slightly until the post is published.",o)},b=O(()=>i.status==="future"?n("Scheduled",o):i.status.toUpperCase());return(c,u)=>["draft","private","pending","future"].includes(i.status)?(s(),g("div",$e,[h(e(z),null,{tooltip:a(()=>[y("span",null,d(l.tooltip),1)]),default:a(()=>[y("span",{class:F(["aioseo-seo-analysis-post-status-badge__status",i.status])},[T(d(b.value)+" ",1),h(e(ye))],2)]),_:1})])):_("",!0)}},we=w(Ie,[["__scopeId","data-v-d5a4d223"]]),Le={class:"aioseo-seo-site-analysis-url-details"},Ue={key:0,class:"result-body"},Ke={class:"result-body-loading"},Pe={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Be={class:"title"},Re={key:0,class:"aioseo-seo-site-analysis-url-details-results__row-actions"},ze=["href"],Oe={target:"_blank",class:"aioseo-button disabled black small"},De=["onClick"],Fe={target:"_blank",class:"aioseo-button disabled black small"},Y="aioseo-seo-analysis-issues-posts-report-wp-table",qe={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(k){const o="aioseo-pro",i=k,l=E(),b=M(null),c={fixActionText:n("Fix",o),fixActionTooltipText:n("You don't have the required permission to fix this issue.",o),ignoreActionText:n("Ignore",o),ignoreActionTooltipText:n("You don't have the required permission to ignore this issue.",o)},u=`${i.result.id}-${i.result.type.toLowerCase()}`,{pageNumber:A,processFilterTable:$,processSearch:C,searchTerm:D,wpTableKey:P,wpTableLoading:B}=Z({fetchData:l.fetchIssuesByObject,resultsPerPage:l.resultsperPage,tableId:Y,tableRef:b.value}),v=O(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:n("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function p(m){var S;return(S=q.strings[m.code])==null?void 0:S.title}function t(m){var S;return(S=q.strings[m.code])==null?void 0:S.description}function x(m){var I,r;if(!["author-bio-missing","author-bio-ok"].includes(m.code))return m.fixLink+(((I=q.strings[m.code])==null?void 0:I.fixActionParams)||"");const U=m.fixLink.includes("profile.php")?"?":"&";return m.fixLink+U+(((r=q.strings[m.code])==null?void 0:r.fixActionParams)||"")}function L(m){C(m)}function R(m,S){l.doIgnoreIssue(m,S),(m==null?void 0:m.status)==="error"&&(i.result.count=i.result.count-1)}return me(()=>{$({slug:i.result})}),(m,S)=>{var U,I;return s(),g("div",Le,[(U=e(l))!=null&&U.allUrlsResults.auditItemResults[u]?_("",!0):(s(),g("div",Ue,[y("div",Ke,[h(e(ge))])])),(I=e(l))!=null&&I.allUrlsResults.auditItemResults[u]?(s(),g("div",Pe,[(s(),f(e(se),{ref_key:"table",ref:b,class:"posts-table",id:Y,columns:v.value,"initial-page-number":e(A),"initial-search-term":e(D),"show-bulk-actions":!1,"show-pagination":!1,key:e(P),loading:e(B),rows:e(l).allUrlsResults.auditItemResults[u].rows,totals:e(l).allUrlsResults.auditItemResults[u].totals,"hide-top-pagination":!0,onSearch:L,"show-search":!1},{icon:a(({row:r})=>[y("div",{class:F(["aioseo-seo-site-analysis-url-details-results__result-icon",`${r.status}-status`])},[r.status==="passed"?(s(),f(e(oe),{key:0})):r.status==="error"?(s(),f(e(fe),{key:1})):r.status==="warning"?(s(),f(e(ke),{key:2})):(s(),f(e(be),{key:3}))],2)]),title:a(({row:r})=>{var H;return[y("div",Be,[T(d(p(r))+" ",1),(H=t(r))!=null&&H.length&&(r==null?void 0:r.status)!=="passed"?(s(),f(e(z),{key:0},{tooltip:a(()=>[T(d(t(r)),1)]),default:a(()=>[h(e(ae))]),_:2},1024)):_("",!0)])]}),actions:a(({row:r})=>[(r==null?void 0:r.status)!=="passed"?(s(),g("div",Re,[r.fixLink?(s(),g("a",{key:0,href:x(r),target:"_blank",class:"aioseo-button blue small"},d(c.fixActionText),9,ze)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:1},{tooltip:a(()=>[T(d(c.fixActionTooltipText),1)]),default:a(()=>[y("a",Oe,d(c.fixActionText),1)]),_:1})),r.fixLink?(s(),g("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:H=>R(r,e(l).allUrlsResults.auditItemResults[u])},d(c.ignoreActionText),9,De)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:3},{tooltip:a(()=>[T(d(c.ignoreActionTooltipText),1)]),default:a(()=>[y("a",Fe,d(c.ignoreActionText),1)]),_:1}))])):_("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):_("",!0)])}}},Me=w(qe,[["__scopeId","data-v-134ae51c"]]),Ne=["id"],Ee={key:0},He={key:1},je={class:"disabled"},Ge={key:2,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},Ve={class:"actions"},We={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(k,{emit:o}){const i="aioseo-pro",l=E(),b=o,c=k,u=O(()=>c.row),A=M(!1),$=M(!1),C={addKeyphrase:n("Add Focus Keyword",i),cancel:n("Cancel",i),add:n("Add",i),addKeyphraseTooltipText:n("You don't have the required permission.",i)};async function D(v){$.value=!0;const t=document.getElementById(`keyword-${v.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),x=t==null?void 0:t.value.trim();if(!x){$.value=!1;return}const L={keyphrase:x,score:0,analysis:{}};l.doAddFocusKeyword(v.id,L).then(()=>{v.keyphrases.focus=L,t.value="",t.blur()}).catch(R=>{console.error(R)}).finally(()=>{$.value=!1,b("keywordAdded")})}function P(v){v.preventDefault(),A.value=!0;const p=document.getElementById(`keyword-${u.value.id}`);setTimeout(()=>{const t=p==null?void 0:p.querySelector(".add-focus-keyphrase-metabox-input input");t==null||t.focus()},100)}function B(v,p){const x=document.getElementById(`keyword-${p}`).querySelector(".add-keyphrase");v.preventDefault(),x.click()}return(v,p)=>{var L,R,m,S,U,I;const t=N("base-input"),x=N("base-button");return u.value.isTruSeoEligible?(s(),g("div",{key:0,id:`keyword-${u.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(m=(R=(L=u.value)==null?void 0:L.keyphrases)==null?void 0:R.focus)!=null&&m.keyphrase?(s(),g("span",Ee,d(u.value.keyphrases.focus.keyphrase),1)):e(ve)("aioseo_page_analysis")?(s(),g("div",He,[(S=u.value)!=null&&S.fixLink?_("",!0):(s(),f(e(z),{key:0,placement:"bottom"},{tooltip:a(()=>[T(d(C.addKeyphraseTooltipText),1)]),default:a(()=>[y("span",je,d(C.addKeyphrase),1)]),_:1})),!A.value&&((U=u.value)!=null&&U.fixLink)?(s(),g("a",{key:1,href:"",onClick:P},d(C.addKeyphrase),1)):_("",!0),A.value&&((I=u.value)!=null&&I.fixLink)?(s(),g("div",Ge,[h(t,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[p[0]||(p[0]=W(r=>B(r,u.value.id),["enter"])),p[1]||(p[1]=W(r=>A.value=!1,["esc"]))]}),y("div",Ve,[h(x,{class:"cancel-add-keyphrase gray small",onClick:p[2]||(p[2]=r=>A.value=!1)},{default:a(()=>[T(d(C.cancel),1)]),_:1}),h(x,{class:"add-keyphrase blue small",loading:$.value,onClick:p[3]||(p[3]=r=>D(u.value))},{default:a(()=>[T(d(C.add),1)]),_:1},8,["loading"])])])):_("",!0)])):_("",!0)],8,Ne)):_("",!0)}}},Ye={class:"aioseo-seo-site-analysis-all-urls-results"},Qe={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},Je={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},Xe={type:"button"},Ze=["innerHTML"],et={key:0,class:"row-actions"},tt={key:0},st=["href"],ot={class:"aioseo-seo-site-analysis-all-urls-results__result-toggle"},Q="aioseo-seo-analysis-all-urls-wp-table",at={__name:"SiteAuditAllUrlsTable",setup(k){const o="all-in-one-seo-pack",i=E(),l=ne(),b=M(null),c={viewObject:n("View",o)},{pageNumber:u,searchTerm:A,wpTableKey:$,wpTableLoading:C}=Z({changeItemsPerPageSlug:"seoAnalysis",fetchData:i.fetchAllUrls,tableId:Q,tableRef:b.value}),D=O(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:n("Title",o),width:"100%"},{slug:"keyword",label:n("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),P=v=>{var p,t;return(p=v.counts)!=null&&p.error?"red":(t=v.counts)!=null&&t.warning?"orange":"green"},B=v=>{var p,t;return((p=v.counts)==null?void 0:p.error)||((t=v.counts)==null?void 0:t.warning)||0};return(v,p)=>(s(),g("div",Ye,[(s(),f(e(se),{ref:"seoAnalysisAllUrlsTable",class:"posts-table",id:Q,columns:D.value,"initial-page-number":e(u),"initial-search-term":e(A),"initial-items-per-page":e(l).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e($),loading:e(C),rows:e(i).allUrlsResults.rows,totals:e(i).allUrlsResults.totals},{"edit-row":a(({row:t})=>[t!=null&&t.needsRefresh?_("",!0):(s(),f(e(Me),{key:0,result:t},null,8,["result"]))]),count:a(({row:t})=>[y("div",Qe,[B(t)?(s(),f(e(Te),{key:0,color:P(t),text:B(t)},null,8,["color","text"])):(s(),g("span",{key:1,class:F(["icon",P(t)])},[h(e(oe))],2))])]),title:a(({row:t})=>[y("div",Je,[y("button",Xe,[y("span",{innerHTML:e(ie)(t.title)},null,8,Ze)]),t.status?(s(),f(e(we),{key:0,status:t.status},null,8,["status"])):_("",!0)]),t.permalink?(s(),g("div",et,[t.permalink?(s(),g("span",tt,[y("a",{class:"view",href:t.permalink,target:"_blank",rel:"noopener noreferrer"},[y("span",null,d(c.viewObject)+" "+d(t.subtype.label),1)],8,st)])):_("",!0)])):_("",!0)]),keyword:a(({row:t})=>[(s(),f(e(We),{key:t.id,row:t,onKeywordAdded:x=>v.keywordAdded(t)},null,8,["row","onKeywordAdded"]))]),toggle_issues:a(()=>[y("div",ot,[h(e(he))])]),_:1},8,["columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))]))}},nt={key:1,class:"label"},it={__name:"SiteAuditGlobalTab",setup(k){const o="all-in-one-seo-pack",i=O(()=>[{slug:"all-urls",label:n("All URLs",o),name:n("All URLs",o)},{slug:"all-checks",label:n("All Checks",o),name:n("All Checks",o)},{slug:"settings-audit",label:n("Settings",o),name:n("Settings",o)}]);return(l,b)=>(s(),g("div",null,[h(e(pe),{tabs:i.value,showSaveButton:!1,active:"all-urls",internal:"","skinny-tabs":""},{"var-tab":a(({tab:c})=>{var u;return[c!=null&&c.analyze?(s(),g("span",{key:0,class:F(["icon",(u=c==null?void 0:c.analyze)==null?void 0:u.classColor])},[(s(),f(ee(c.icon)))],2)):_("",!0),c!=null&&c.analyze?(s(),g("span",nt,d(c.label)+" ("+d(c.analyze.count||0)+") ",1)):_("",!0)]}),_:1},8,["tabs"]),h(e(at),{section:"all-urls"})]))}},rt=w(it,[["__scopeId","data-v-54a2b11f"]]),lt={class:"aioseo-seo-audit-checklist"},ct=["innerHTML"],ut={__name:"SeoSiteAuditUnlicensed",setup(k){const o="all-in-one-seo-pack",i=j(),l={completeSeoChecklist:n("Site Audit Report",o),cardDescription:n("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+J.getDocLink(ue.learnMore,"seoAnalyzer",!0),siteOverview:n("Site Overview",o),totalPostsLabel:n("Total Checks",o),connectWithAioseo:te(n("Connect with %1$s",o),"AIOSEO")},b=O(()=>Se({good:50,warnings:30,issues:20,total:100}));return(c,u)=>(s(),g("div",lt,[h(e(G),null,{default:a(()=>[h(e(V),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.siteOverview),1)]),default:a(()=>[h(e(de),{parts:b.value,total:100,label:l.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(i).isPro?_("",!0):(s(),f(e(G),{key:0},{default:a(()=>[h(e(V),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.completeSeoChecklist),1),h(e(z),null,{tooltip:a(()=>[y("span",{innerHTML:l.cardDescription},null,8,ct)]),default:a(()=>[h(e(ae))]),_:1})]),default:a(()=>[h(e(rt))]),_:1})]),_:1})),_e(c.$slots,"upsell",{},void 0,!0)]))}},dt=w(ut,[["__scopeId","data-v-a580ad02"]]),K="all-in-one-seo-pack",pt={setup(){return{licenseStore:X(),rootStore:j(),links:J}},components:{Cta:xe},props:{parentComponentContext:String},data(){return{strings:{ctaHeader:te(n("Site Audit is a %1$s Feature",K),"PRO"),ctaDescription:n("Discover which posts and terms on your site are facing common SEO issues so you can quickly resolve them in order to get your content back on track.",K),ctaFeatures:[n("Meta Tag Validation",K),n("Keyword Cannibilization",K),n("Focus Keyword Analysis",K),n("Content Analysis",K)],ctaButtonText:n("Unlock Site Audit",K)}}}},mt={class:"upsell-header-text"};function _t(k,o,i,l,b,c){const u=N("cta");return s(),f(u,{"cta-link":l.links.getPricingUrl("seo-analysis","site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":b.strings.ctaButtonText,"learn-more-link":l.links.getUpsellUrl("site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":b.strings.ctaFeatures,"hide-bonus":!l.licenseStore.isUnlicensed},{"header-text":a(()=>[y("span",mt,d(b.strings.ctaHeader),1)]),description:a(()=>[T(d(b.strings.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])}const yt=w(pt,[["render",_t],["__scopeId","data-v-a33f2ad8"]]),gt={class:"aioseo-seo-analysis__global-site-audit"},ft={__name:"SeoSiteAudit",setup(k){return(o,i)=>(s(),f(e(dt),null,{upsell:a(()=>[y("div",gt,[h(e(yt),{"parent-component-context":"modal"})])]),_:1}))}},ht=w(ft,[["__scopeId","data-v-a8edb80d"]]),kt="all-in-one-seo-pack",bt={setup(){const k=j(),o=X(),i=E();return{rootStore:k,licenseStore:o,analyzerStore:i}},components:{AnalyzeCompetitorSite:re,CoreMain:le,SeoHomepageAudit:ce,SeoSiteAudit:ht,HeadlineAnalyzer:Ae},data(){return{strings:{pageName:n("SEO Analysis",kt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function vt(k,o,i,l,b,c){const u=N("core-main");return s(),f(u,{"page-name":b.strings.pageName,"show-save-button":k.$route.name==="seo-site-audit"&&l.analyzerStore.activeTab==="settings-audit"},{default:a(()=>[(s(),f(ee(k.$route.name)))]),_:1},8,["page-name","show-save-button"])}const Ks=w(bt,[["render",vt]]);export{Ks as default};
